_jsload_('wgl', 'g.l.rq&&(g.g9=function(a){function b(a,b,c,e,f,h,k){var l=a.Ma;c=[];e=a.tg;var m=null,n=null,s;a.Ma=[];h=h&&16<b;for(var x=[],t=[],Q=[],P=1,J=l.length;P<J;P+=1){var N=l[P],V=N[1].split("&"),m=p(w?w:V[0]),n=p(V[4]);s=N[2];var R=N[0],T=N[3]*Math.pow(2,2)*k,S=N[4],Z={},U=N[5],N=[];if(U&&U.length)for(var W=0,Y=U.length;W<Y;W+=1){var X=U[W].split("-"),V=X[1].split("^");N[X[0]]=V;for(var X=0,aa=V.length;X<aa;X+=1)-1===d(c,V[X])&&c.push(V[X])}if(S&&S.length)for(U=0,Y=S.length;U<Y;U+=1){V=S[U].split("-"); X=parseInt(V[0]);Z[X]={};for(var aa=1,da=V.length;aa<da;aa+=1)Z[X][parseInt(V[aa])]=!0}U=0;for(S=R.length;U<S;U+=1){V=R[U];y||(x=[],Q=[],t=[]);for(var V=r(V,v,b),Y=q(V,e,f,!0),V=Y[1],X=[],W=da=aa=0,Aa=V.length-1;W<Aa;W+=1){var ha=V[W],ea=V[W+1],aa=aa+ha[0],da=da+ea[1];if(!Z[U]||!Z[U][W])if(h){var ma=ea[0]-ha[0],ja=ea[1]-ha[1],sa=5E3+ma+(5E3+ja)/1E4,ja=Math.sqrt(Math.pow(ma,2)+Math.pow(ja,2)),ma=Math.round(T/64),ja=Math.ceil(ja/64);ma?t.push(0,0,ja,ma,0,ma,0,0,ja,0,ja,ma):t.push(-1,-1,-1,-1,-1,-1, -1,-1,-1,-1,-1,-1);x.push(ha[0],ha[1],-T,sa);x.push(ea[0],ea[1],0,sa);x.push(ha[0],ha[1],0,sa);x.push(ha[0],ha[1],-T,sa);x.push(ea[0],ea[1],-T,sa);x.push(ea[0],ea[1],0,sa)}else Q.push(ha[0],ha[1],0,-1,ea[0],ea[1],0,-1);X.push([ha[0],ha[1]])}W=V.length-1;aa=[aa/W+215440491,da/W+106744817];V=u.Lh(h?X:V,[],0,1);X=0;for(da=V.length;X<da;X+=1)W=-T,h||(W=0),t.push(-1,-1),x.push(V[X][0],V[X][1],W,0);!y&&x.length&&(V=[m,n,s],Y=[new Float32Array(x),new Float32Array(t),new Float32Array(Q),V,Y[1],aa],N[U]&& (Y.$pa=N[U]),a.Ma.push(Y))}}y&&x.length&&(b=256*Math.pow(2,20-e.z),aa=[e.x*b+128,e.y*b+128],Y=[new Float32Array(x),new Float32Array(t),new Float32Array(Q),[m,n,s],null,aa],a.Ma.push(Y));a.dn=c;return a}function c(a,b,c,e,f,h){c=a.Ma;e=[];for(var k=a.tg,l=null,m=null,n={},s=1,x=c.length;s<x;s+=1){var t=c[s],y=t[1].split("&"),l=p(w?w:y[0]),m=p(y[2]),P=y[0]+y[2];n[P]||(n[P]={H8:[],g7:[],Ib:[],Eg:[],jQ:l,borderColor:m,sc:t[2]});var l=n[P].H8,m=n[P].g7,y=n[P].Ib,P=n[P].Eg,J=t[0],N=t[3]*Math.pow(2,2),V= t[4],R={};if((t=t[5])&&t.length)for(var T=0,S=t.length;T<S;T+=1)for(var Z=t[T].split("-")[1].split("^"),U=0,W=Z.length;U<W;U+=1)-1===d(e,Z[U])&&e.push(Z[U]);if(V&&V.length)for(t=0,T=V.length;t<T;t+=1)for(S=V[t].split("-"),Z=parseInt(S[0]),R[Z]={},U=1,W=S.length;U<W;U+=1)R[Z][parseInt(S[U])]=!0;t=0;for(V=J.length;t<V;t+=1){for(var Y=J[t],Y=r(Y,v,b),Y=q(Y,k,f,!0)[1],T=[],S=0,Z=Y.length-1;S<Z;S+=1){var U=Y[S],W=Y[S+1],X=[U[0]-0*N,U[1]-0.3*N],aa=[W[0]-0*N,W[1]-0.3*N];R[t]&&R[t][S]||(h?((W[0]-U[0])*(X[1]- U[1])<(X[0]-U[0])*(W[1]-U[1])&&(l.push(X[0],X[1],2),l.push(W[0],W[1],-1),l.push(U[0],U[1],-1),l.push(X[0],X[1],2),l.push(aa[0],aa[1],2),l.push(W[0],W[1],-1),P.push([U,W,aa,X])),y.push(X[0],X[1],-1,aa[0],aa[1],-1)):y.push(U[0],U[1],-1,W[0],W[1],2));T.push([X[0],X[1]])}Y.pop();S=u.Lh(h?T:Y,[],0,1);P.push(h?T:Y);Y=0;for(T=S.length;Y<T;Y+=1)m.push(S[Y][0],S[Y][1],3)}}a.Ma=[];for(Y in n)n.hasOwnProperty(Y)&&(y=[n[Y].jQ,n[Y].borderColor,n[Y].sc],a.Ma.push([new Float32Array(n[Y].H8),new Float32Array(n[Y].g7), new Float32Array(n[Y].Ib),y,n[Y].Eg]));a.dn=e;return a}function d(a,b){if(a&&!a.length)return-1;if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1}function e(a,b){for(var c=a.Ma,d=[],e={0:"ffde0000",1:"ffffcc00",2:"ff33b100",3:"ff8c0e0e",4:"ffadadad"},f=0,h=c.length;f<h;f++){for(var l=[],m=0,n=c[f].length;m<n;m++){var s=[],r=[];k(s,r,c[f][m][1],a.ra,b);s.forEach(function(a,b){l.push([a,r[b]])})}if(l.length){var v=[[],[],{width:0.75*c[f][0][0],borderColor:p(e[f])}]; l.forEach(function(a){var b=v[0].length/9;b&&(a[1]=a[1].map(function(a){return a+b}));v[0]=v[0].concat(a[0]);v[1]=v[1].concat(a[1])});v[0]=new Float32Array(v[0]);v[1]=new Uint16Array(v[1]);d.push(v)}}a.Ma=d;return a}function f(a,b,c,d,e,f){function k(a){for(var b=0,c=0,d=a.length;c<d;c++)b+=a[c][0].length/s-1;return b}function l(){Ba.Y.push(new Float32Array(ma));Ba.Vb.push(new Uint16Array(ja))}function m(){ma=[];ja=[];sa=[];Ia=Ja=0}function n(a,b){for(var c=0,d=a.length;c<d;c++)a[c]+=b;return a}for(var s= 11,r="solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" "),v=a.Ma.slice(1),q=v.length-1;0<=q;q--)v[q].e4=q;v.sort(function(a,b){return a[2]>b[2]?1:a.e4>b.e4?1:-1});for(var u={},q=0,t=v.length;q<t;q+=1){var w=v[q],y=w[1].split("&"),R,T,S,Z,U;R=T=S=Z=U=null;var W,Y,X,aa,da=null,Aa=!1;W=Y=X=aa=null;y[1]&&(R=p(y[1]));T=parseInt(y[0]);S=y[2];S!==r[0]&&(S===r[1]?W="round":S===r[2]?W="square":0===S.indexOf(r[5])?(da=!0,X=[3,2]):0===S.indexOf(r[3])?(X=S.substring(5).split(")")[0].split(","), X.forEach(function(a,b){X[b]*=e})):0===S.indexOf(r[4])&&(Z=R,R=y[4]?p(y[4]):[1,1,1,R[3]],X=[12,12],Aa=!0,U=3,T=1));y[3]&&y[4]&&3<y.length&&(U=T+parseInt(y[3]),Z=p(y[4]),S=y[5],S!==r[0]&&(S===r[1]?Y="round":S===r[2]?Y="square":0!==S.indexOf(r[5])&&0===S.indexOf(r[3])&&(U+=1,aa=S.substring(5).split(")")[0].split(","),aa.forEach(function(a,b){aa[b]*=e}))));if(c){if(X)for(y=X.length-1;0<=y;y-=1)X[y]*=e;if(aa)for(y=aa.length-1;0<=y;y-=1)aa[y]*=e}var ha=[];ha.Oc=0;S=[];var ea=[];h(ha,ea,S,w[0],a.tg,b,c, d,e,W);"app"===x&&(T/=4,U/=4);y=[T,R,X,U,Z,aa,da,Aa,W,Y,w[3],w[4]];w=w[2];u[w]||(u[w]=[]);R=[ha,ea,y];f&&R.push(S);u[w].push(R)}var ma=void 0,ja=void 0,sa=void 0,Ja=void 0,Ia=void 0,Ba={Y:[],Vb:[],hash:{}};m();for(var Ca in u)if(u.hasOwnProperty(Ca)){b=u[Ca];65535<k(b)+ja[ja.length-1]+10&&(l(),m());c=[];d=Ba.Vb.length;f=0;for(r=b.length;f<r;f++)v=b[f],q=null,ma=ma.concat(v[0]),ja=ja.concat(n(v[1],Ja)),q=new Float32Array([d,v[1].length,2*Ia]),c.push(q),Ja+=v[0].length/s,Ia+=v[1].length,v[2].ota=v[3], b[f]=v[2];Ba.hash[Ca]=c;sa.push(Ca)}l();u.buffer=Ba;a.Ma=u;return a}function h(a,b,c,d,e,f,h,k,l,m){for(var n=0,p=d.length;n<p;n+=1){var s=a.length/11,u=s+6,x=r(d[n],v,f),t=q(x,e,k);if(1<t[1].length){for(var x=t[0],w=t[2],y=0,t=t[1].length;y<t;y+=1){if(0<y){var R=x[2*y]-x[2*y-2],T=x[2*y+1]-x[2*y-1];a.Oc+=Math.sqrt(R*R+T*T)*(h?l:1)}var R=x[2*y],T=x[2*y+1],S=w[y][0],Z=w[y][1],U,W;y===t-1?(U=x[2*t-2],W=x[2*t-1]):(U=x[2*y+2],W=x[2*y+3]);var Y,X;0===y?(Y=R,X=T):(Y=x[2*y-2],X=x[2*y-1]);if(0!==y){var aa= y===t-1?0:-1;a.push(R,T,S,Z,1,Y,X,aa,U,W,a.Oc);a.push(R,T,S,Z,-1,Y,X,aa,U,W,a.Oc)}else a.push(R,T,S,Z,0,Y,X,0,U,W,a.Oc),a.push(R,T,S,Z,1,Y,X,0,U,W,a.Oc),a.push(R,T,S,Z,1,Y,X,1,U,W,a.Oc),a.push(R,T,S,Z,0,Y,X,1,U,W,a.Oc),a.push(R,T,S,Z,-1,Y,X,1,U,W,a.Oc),a.push(R,T,S,Z,-1,Y,X,0,U,W,a.Oc),m&&(b.push(s+2,s+0,s+3),b.push(s+2,s+1,s+0),b.push(s+3,s+0,s+4),b.push(s+4,s+0,s+5));y!==t-1?(aa=0===y?0:1,a.push(R,T,S,Z,1,Y,X,aa,U,W,a.Oc),a.push(R,T,S,Z,-1,Y,X,aa,U,W,a.Oc)):(a.push(R,T,S,Z,0,Y,X,0,U,W,a.Oc),a.push(R, T,S,Z,1,Y,X,0,U,W,a.Oc),a.push(R,T,S,Z,1,Y,X,-1,U,W,a.Oc),a.push(R,T,S,Z,0,Y,X,-1,U,W,a.Oc),a.push(R,T,S,Z,-1,Y,X,-1,U,W,a.Oc),a.push(R,T,S,Z,-1,Y,X,0,U,W,a.Oc));y!==t-1?(b.push(u+4*y,u+4*y+3,u+4*y+1),b.push(u+4*y,u+4*y+2,u+4*y+3)):m&&(R=u+4*(t-1),b.push(R+1,R+2,R+0),b.push(R+2,R+3,R+0),b.push(R+0,R+4,R+5),b.push(R+0,R+3,R+4))}c.push(w)}}}function k(a,b,c,d,e){for(var f=[],h=0,k=c.length;h<k;h+=1){var l=[],m=[],n=r(c[h]),p=q(n,d,e);f.push(p[2]);if(1<p[1].length){var s=p[1].length;p[1].forEach(function(a, b,c){var d=c[b-1];c=c[b+1];0===b?d=a:b===s-1&&(c=a);l.push(a[0],a[1],p[2][b][0],p[2][b][1],1,d[0],d[1],c[0],c[1]);l.push(a[0],a[1],p[2][b][0],p[2][b][1],-1,d[0],d[1],c[0],c[1]);0===b?m.push(0,1,2):b!=s-1?(m.push(2*(b-1)+1,2*b+1,2*b),m.push(2*b,2*b+1,2*(b+1))):m.push(2*(b-1)+1,2*b+1,2*b)});a.push(l);b.push(m)}}}function l(a,b,c,d,e,f,h,k){for(var l=0,m=d.length;l<m;l+=1){var n=a.length/2,p=q(r(d[l],v,f),e,h);if(2<p[1].length&&(n=u.Lh(p[1],[],n),n.length&&(a.push.apply(a,p[0]),b.push.apply(b,n),c.push(p[2]), k)))for(var n=0,s=p[2].length;n<s;n+=1){var x=p[2][n][0]/512,t=p[2][n][1]/512;1==e.x%2&&(x+=0.5);1==e.y%2&&(t+=0.5);k.push(x,t)}}}function m(a,b,c,d){function e(a,b){for(var c=0,d=a.length;c<d;c++)a[c]+=b;return a}var f=a.Ma,h=[],k=[],m=[],s=[];n(a,k,m,c);for(var r=[[[0,0],[255,0],[255,255],[0,255]]],v=[[0,0],[255,0],[0,255],[255,255]],q=a.tg,u=0,x=v.length;u<x;u+=1){var t=v[u][0]/512,w=v[u][1]/512;1==q.x%2&&(t+=0.5);1==q.y%2&&(w+=0.5);s.push(t,w)}h.push([k,m,p("ff"+a.Ex.substr(1)),"regions:land", r,s]);f.sort(function(a,b){return"string"===typeof a?-1:"string"===typeof b?1:a[2]>b[2]?1:a[2]<b[2]?-1:0});v=1;for(q=f.length;v<q;v+=1)u=f[v],k=[],m=[],r=[],s=[],x=p(u[1].split("&")[0]),l(k,m,r,u[0],a.tg,b,c,s),k=[k,m,x,u[3],null,s],d&&(k[4]=r),h.push(k);b={To:[],le:[],Y:[],Vb:[],kk:[]};f=d=c=0;for(r=h.length;f<r;f++)k=h[f],b.Y.push.apply(b.Y,k[0]),b.Vb.push.apply(b.Vb,e(k[1],c)),b.kk.push.apply(b.kk,k[5]),b.le.push([k[2],k[3]]),b.To.push([k[1].length,2*d]),d+=k[1].length,c+=k[0].length/2,delete k[0], delete k[1],delete k[5];b.Y=new Float32Array(b.Y);b.Vb=new Uint16Array(b.Vb);b.kk=new Float32Array(b.kk);h.buffer=b;a.Ma=h;return a}function n(a,b,c,d){var e=a.tg;a=256*e.x*d-215440491;e=256*e.y*d-106744817;b.push(a,e);var f=256*d;d=a+f;b.push(d,e);e+=f;b.push(a,e);b.push(d,e);c.push(0,1,2,1,3,2)}function p(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c,2),16)/255);b.push(b.shift());return b}function q(a,b,c,d){var e=0,f=0,e=256*b.x,f=256*b.y;b=[];for(var h=[],k=[],l=0,m=a.length;l< m;l+=2){var n=(e+a[l])*c-215440491,p=(f+a[l+1])*c-106744817,s=k.length;if(d||0===b.length)k.push(n),k.push(p),b.push([n,p]),h.push([a[l],a[l+1]]);else if(n!==k[s-2]||p!==k[s-1])n===k[s-2]&&n===k[s-4]?(k[s-1]=p,b[b.length-1][1]=p,h[b.length-1][1]=a[l+1]):p===k[s-1]&&p===k[s-3]?(k[s-2]=n,b[b.length-1][0]=n,h[b.length-1][0]=a[l]):(k.push(n),k.push(p),b.push([n,p]),h.push([a[l],a[l+1]]))}return[k,b,h]}function r(a,b,c){var d="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM";b=b||"v5";var e,f; "v5"<b?(e=d.length,f=512):(e=27,d=d.substr(0,27),f=333);var h,k,l,m,n;k=[];l=NaN;m=0;for(n=a.length;m<n;m++)h=a[m],h=d.indexOf(h),isNaN(l)?l=h*e:(h=l+h-f,18===c&&"v5"<b&&(h/=4),k.push(h),l=NaN);return k}function s(a,b){for(var c=0,d=b.length;c<d;c++)a.push(b[c])}var u=null,v=1,x,t=!1,w=null,y=!0;return{parseDataToWebGL:function(d,e){function h(a,b){var c=[];if("road"===b){if(a.Ma&&a.Ma.buffer)for(var d=a.Ma.buffer,e=0,f=d.Y.length;e<f;e++)c.push(d.Y[e].buffer,d.Vb[e].buffer)}else if("region"===b)a.Ma&& a.Ma.buffer&&(d=a.Ma.buffer,c.push(d.Vb.buffer,d.kk.buffer,d.Y.buffer));else if("building"===b&&a.Ma)for(d=0,e=a.Ma.length;d<e;d++)f=a.Ma[d],c.push(f[0].buffer,f[1].buffer),f[2].byteLength&&c.push(f[2].buffer);c.length&&this.Ut(c)}function k(a){var b=a.Ma;s&&b&&1<b.length&&b.slice(1).forEach(function(b){if(b&&null===b[1]){var c=b[b.length-1],d=s[c];b[1]=d.browserStyle[d.levelStyleMapping[n]];"road"===a.vd&&(b[1]=b[1][0],b[4]=d,b[4].id=c)}})}u=this.Lh?this:g.zc;v=d.Se;t=d.FR;x=d.mode;y=d.Vf;var l= t?b:c,n=d.Ey,p=d.gq,s=null;w=d.or;var r=d.Z,q=[],O=Math.pow(2,20-n),K=!!d.od;void 0!==d.Bx&&(s=d.Je[d.Bx].stylemaps);for(var D=0,Q=d.Ic.length;D<Q;D+=1){var P=d.Ic[D],J=P.vd,N=null;k(P);switch(J){case "region":N=m(P,n,O,K);break;case "road":N=f(P,n,p,O,d.e7,K);break;case "building":N=l(P,n,p,r,O,d.bP,d.ry)}a&&h.call(self.Ut?self:this,N,J);N&&q.push(N)}delete d.Je;d.Ic=q;e(null,{data:d})},Ota:function(a,b){u=this.Lh?this:g.zc;for(var c=a.Ic,d=Math.pow(2,20-a.Ed),f=[],h=0,k=c.length;h<k;h++)f.push(e(c[h], d));a.Ic=f;b(null,{data:a})},j6:function(a,b){u=this.Lh?this:g.zc;for(var c=a.jv,d=0;d<c.length;d+=1){for(var e=[],f=0;f<c[d].length;f+=1)e.push(c[d][f][0],c[d][f][1]);c[d]=e}var h,d=[],e=[];a:{for(var k={x:0,y:0},l,m=[],n=[],f=[],p=0;p<c.length;p+=1){var r=q(c[p],k,1);if(0==p){if(3>r[1].length)break a;l=r[1];h=r[0]}else 2<r[1].length&&(m.push(r[1]),n.push(r[2]),f.push(r[0]))}c=u.Lh(l,m,0);if(c.length)for(s(e,c),s(d,h),p=0;p<f.length;p+=1)s(d,f[p])}h=[new Float32Array(d),65535<d.length/2?new Uint32Array(e): new Uint16Array(e),{},[]];b(null,{data:h})},d6:function(a,b){u=this.Lh?this:g.zc;var c=a.ib,d=a.al,e=0,f=Math.PI/180*6,h=[],k=[];h.push(c[0],c[1]);for(var l=0;60>l;l++)h.push(c[0]+d*Math.cos(e),c[1]+d*Math.sin(e)),e+=f,0<l&&k.push(0,l,l+1),59==l&&k.push(0,l+1,1);b(null,{data:[h,k]})},LEa:function(){}}},g.zc&&(g.zc.jf(null,g.FE),g.zc.jf(null,g.TK),g.zc.jf(null,g.g9)));(function(){function a(){function a(b,c,d,e,f,k){var l=[0,0,0,0,0],m=d.slice(0,4).concat(l),r=[],q=Math.PI/180*6,B=void 0,G=void 0,B=d.slice(0,2),H=n(e),I=n(f),G=s.normalize((new h(H)).rg(new h(B))),M=s.normalize((new h(I)).rg(new h(B)));s.KR(G,k)?(B=s.II(G),G=s.II(M)):(B=s.II(M),G=s.II(G),k=[I,H],H=k[0],I=k[1],f=[f,e],e=f[0],f=f[1]);H=Math.ceil(Math.abs(G-B)/q);30<=H&&(H=60-H);for(k=0;k<H;k++)0===k?(m.push.apply(m,e.slice(0,4)),m.push.apply(m,l)):(I=(k*q+B)%(2*Math.PI),m.push.apply(m,d.slice(0,2).concat([0, 0])),m.push(1*Math.cos(I),1*Math.sin(I),0,0,0)),0<k&&r.push(0,k,k+1);m.push.apply(m,f.slice(0,4));m.push.apply(m,l);r.push(0,H,H+1);var L=b.length/p;b.push.apply(b,m);c.push.apply(c,r.map(function(a){return a+L}));return m.length/p}function c(c,d,e,f,k,l){function r(a,b,c,d,e){var f=void 0;a.QH(b)||s.x4(a,b)?f=b:c&&d&&e?f=a:c&&!d&&e?f=b:c||d||e?c||!d||e?(f=s.normalize(a.Zj(b)),H=s.cos(f,a),f=f.Fr(H)):f=a:f=b;return f}function q(a,b,c){if(void 0===c||!0===c)d.push(a[0],a[1]),d.push(-b.y,b.x,0,0),d.push(G, 0,0),l.push(a[2]);if(void 0===c||!1===c)d.push(a[0],a[1]),d.push(b.y,-b.x,0,0),d.push(G,0,0),l.push(a[2])}function F(a,b){var c=a*p,e=c+p,f=e+p,k=f+p,l=m;I?(f=n(d.slice(e,f)),c=n(d.slice(c,e)),c=s.normalize((new h(f)).rg(new h(c))),c=Math.abs(s.cos(b,c)/s.sin(b,c)*2),d[e+l]=-c,d[k+l]=c):(k=n(d.slice(c,e)),e=n(d.slice(e,f)),e=s.normalize((new h(k)).rg(new h(e))),e=Math.abs(s.cos(e,b)/s.sin(e,b)*2),d[c+l]=-e,d[f+l]=e)}var A=c.length,B=0,G=0,H=void 0,I=void 0;k&&(f="bevel");for(var M=0,L=c.length;M< L;M+=1){var O=c[M-1],K=c[M],D=c[M+1],Q=void 0;O&&(G+=s.Od(K,O));if(0===M||M===A-1)0===M?(void 0===D&&(D=K),O=K,Q=s.normalize(new h(D[0]-K[0],D[1]-K[1])),e.push(0,1,2)):(D=K,Q=s.normalize(new h(K[0]-O[0],K[1]-O[1])),D=d.length/p+2,4===D?e.push(3,2,1):e.push(D-3-B,D-1,D-2)),q(K,Q);else{var P=s.normalize(new h(K[0]-O[0],K[1]-O[1])),J=s.normalize(new h(D[0]-K[0],D[1]-K[1])),N=s.normalize(P.multiply(-1).Zj(J)),I=s.KR(N,P),H=s.cos(N,P);q(K,r(P,J,I,!0,!0),!0);q(K,r(P,J,I,!0,!1),!1);q(K,r(P,J,I,!1,!0),!0); q(K,r(P,J,I,!1,!1),!1);D=d.length/p;Q=D-4;O=Q+2;F(Q,P);s.x4(P,J)?e.push(Q,Q+1,Q-2-B):e.push(Q,Q-1-B,Q+1);"miter"==f&&(I?q(K,r(P,J,0,!0,!0),!0):q(K,r(P,J,0,!0,!0),!1),B=1);if("round"===f){J=P=B=void 0;I?(B=d.slice((Q+1)*p,(Q+2)*p),P=d.slice(Q*p,(Q+1)*p),J=d.slice(O*p,(O+1)*p)):(B=d.slice(Q*p,(Q+1)*p),P=d.slice((Q+1)*p,(Q+2)*p),J=d.slice((O+1)*p,(O+2)*p));B=a(d,e,B,P,J,N.multiply(-1));if(l)for(;0<B--;)l.push(K[2]);B=d.length/p-D}e.push(O,O+1,O+2+B);k||"bevel"!=f&&"miter"!=f||(I?e.push(O,Q,Q+1):e.push(O, O-1,O+1),"miter"==f&&(I?e.push(O+2,O-2,O):e.push(O+2,O+1,O-1)))}}}function d(a,b,c,d){function e(a,b){var c=void 0;if(a.QH(b))c=b;else{var c=s.normalize(a.Zj(b)),d=s.cos(c,a);d>Math.sqrt(3)/2&&(d=Math.sqrt(3)/2);c=c.Fr(d)}return c}function f(a,c,e){if(void 0===e||!0===e)b.push(a[0],a[1]),b.push(-c.y,c.x,0,0),b.push(n,0,0),d.push(a[2]);if(void 0===e||!1===e)b.push(a[0],a[1]),b.push(c.y,-c.x,0,0),b.push(n,0,0),d.push(a[2])}for(var k=a[0],l=a[a.length-1],n=0,r=void 0;k[0]===l[0]&&k[1]===l[1]&&k!==l;)a.pop(), l=a[a.length-1];a.push(k);a.push(a[1]);a.unshift(l);var q=a.length;a.forEach(function(a,d,k){var l=k[d-1];k=k[d+1];var u=void 0;l&&(n+=s.Od(a,l));if(0===d||d===q-1)0===d?(u=s.normalize(new h(k[0]-a[0],k[1]-a[1])),c.push(0,1,2)):(u=s.normalize(new h(a[0]-l[0],a[1]-l[1])),d=b.length/p+2,c.push(d-3,d-1,d-2)),f(a,u);else{d=s.normalize(new h(a[0]-l[0],a[1]-l[1]));k=s.normalize(new h(k[0]-a[0],k[1]-a[1]));l=s.normalize(d.multiply(-1).Zj(k));r=s.KR(l,d);f(a,e(d,k),!0);f(a,e(d,k),!1);f(a,e(d,k),!0);f(a,e(d, k),!1);a=b.length/p-4;k=a+2;var u=a*p,t=u+p,E=t+p,C=E+p;d=Math.abs(s.cos(d,l)/s.sin(d,l));l=m;r?(b[u+l]=d,b[t+l]=-d,b[E+l]=-d,b[C+l]=d):(b[u+l]=-d,b[t+l]=d,b[E+l]=d,b[C+l]=-d);c.push(a,a-1,a+1);c.push(k,k+1,k+2)}})}function e(c,d,e){function f(a,b){if(r)for(;0<a--;)r.push(b)}function m(a,b){A.push.apply(A,a.slice(0,k));A.push(b.x,b.y);A.push.apply(A,a.slice(l));A.push.apply(A,a)}var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"butt",r=arguments[4],q=c.length-1,F=d.length,A=[],B=[],G= [d.slice(0,p),d.slice(p,2*p)],H=[d.slice(F-p,F),d.slice(F-2*p,F-p)];"square"===n?(n=s.normalize((new h(c[0])).rg(new h(c[1]))),m(G[0],n),m(G[1],n),n=s.normalize((new h(c[q])).rg(new h(c[q-1]))),m(H[0],n),m(H[1],n),B.push(0,2,3,3,1,0),B.push(6,7,4,4,7,5),r&&(r.push(c[0][2]),r.push(c[q][2]))):"round"===n&&(n=G[0].slice(0,2).concat(0,0,0,0).concat(G[0].slice(l)),G=a(d,e,n,G[0],G[1],s.normalize((new h(c[0])).rg(new h(c[1])))),f(G,c[0][2]),n=H[0].slice(0,2).concat(0,0,0,0).concat(H[0].slice(l)),G=a(d, e,n,H[0],H[1],s.normalize((new h(c[q])).rg(new h(c[q-1])))),f(G,c[q][2]));d.push.apply(d,A);e.push.apply(e,B.map(function(a){return a+F/p}))}function f(a,b){var c=[];a.forEach(function(a){var d=a[0],e=a[1];a=a[2];b&&(d-=r[0],e-=r[1]);var f=c.length-1;if(-1===f)c.push([d,e,a]);else if(d!==c[f][0]||e!==c[f][1]||a!==c[f][2])if(1<=f){var k=s.normalize(new h(d-c[f][0],e-c[f][1])),l=s.normalize(new h(c[f][0]-c[f-1][0],c[f][1]-c[f-1][1]));k.QH(l)&&a===c[f][2]?c[f]=[d,e,a]:c.push([d,e,a])}else c.push([d, e,a])});return c}function h(a,b){"object"===typeof a&&a.length&&(b=a[1],a=a[0]);this.x=a;this.y=b}var k,l,m;function n(a){return[a[0]+q*a[2],a[1]+q*a[3]]}var p=9,q=1;k=4;l=6;m=7;var r=[215440491,106744817],s={normalize:function(a){var b=this.length(a);return a.Fr(b)},vf:function(a,b){return a.multiply(b)},zr:function(a,b){return a.x*b.y-a.y*b.x},length:function(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))},sin:function(a,b){return this.zr(a,b)/(this.length(a)*this.length(b))},cos:function(a, b){return this.vf(a,b)/(this.length(a)*this.length(b))},KR:function(a,b){return 0<this.zr(a,b)},Od:function(a,b){return Math.sqrt(Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2))},x4:function(a,b){return a.multiply(-1).QH(b)},II:function(a){a=Math.atan2(a.y,a.x);0>=a&&(a+=2*Math.PI);return a}};h.prototype={Zj:function(a){return new h(this.x+a.x,this.y+a.y)},rg:function(a){return new h(this.x-a.x,this.y-a.y)},multiply:function(a){return"number"===typeof a?new h(this.x*a,this.y*a):this.x*a.x+this.y*a.y}, Fr:function(a){return new h(this.x/a,this.y/a)},QH:function(a){var b=a.y;return this.x===a.x&&this.y===b}};return{parse:function(a,b){var h=a.lineJoin,h=void 0===h?"bevel":h,k=a.lineCap,k=void 0===k?"butt":k,l=a.Zqa,l=void 0===l?!1:l,m=a.wy,n=void 0===m?!1:m,s=a.Y5,m=a.Zwa,r=void 0===m?!0:m,m=a.Qqa,q=[],B=[],G=f(a.jv,void 0===s?!0:s),s=[];l?(d(G,q,B,s),h=q.length,[0,1,2,h/p-1,h/p-2].forEach(function(a){q[a*p+8]=-1})):(c(G,q,B,h,n,s),e(G,q,B,k,s));r&&(q=new Float32Array(q),B=65535<q.length/9?new Uint32Array(B): new Uint16Array(B));h=[q,B];m&&h.push(s);if(b)b(null,{data:h});else return h}}}g.PU=a();g.iya=new g.bA(a,{lazy:"untilCall"})})();g.om={Hqa:function(a,b,c){b=g.om.createProgram(a,b,c);if(!b)return console.log("Failed to create program"),!1;a.useProgram(b);a.pa=b;return!0},createProgram:function(a,b,c){b=g.om.d5(a,a.VERTEX_SHADER,b);c=g.om.d5(a,a.FRAGMENT_SHADER,c);if(!b||!c)return null;var d=a.createProgram();if(!d)return null;a.attachShader(d,b);a.attachShader(d,c);a.bindAttribLocation(d,0,"a_Position");a.linkProgram(d);var e=a.getProgramParameter(d,a.LINK_STATUS);a.deleteShader(c);a.deleteShader(b);return e?d:(console.log("Failed to link program: "+ a.getProgramInfoLog(d)),a.deleteProgram(d),null)},d5:function(a,b,c){b=a.createShader(b);if(null===b)return console.log("unable to create shader"),null;a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:(console.log("Failed to compile shader: "+a.getShaderInfoLog(b)),a.deleteShader(b),null)},qf:function(a,b,c,d){var e=d;"number"!==typeof d&&(e=d.toString());if(c.x0!==e){var f="uniform"+b;if(2===b.length)a[f].apply(a,[c].concat(d));else a[f](c,d);c.x0=e}},aC:function(a){a.length|| (a=[a]);for(var b=0,c=a.length;b<c;b++)delete a[b].x0}};g.N.Ne.md=g.N.Vd.Gi.extend({ja:[g.ww],r:function(a,b){this.Vi=20;this.Za=Math.min(2,window.devicePixelRatio||1);this.Yp=1;arguments.callee.ka.apply(this,arguments);this.W("mapStyle",a.e);this.W("style",a.e);this.mj=this.pi=!0;a.e.D.Qp&&this.RB(a,b);this.Cn=0;this.Bk={};this.HI()||this.set("reload")},hv:function(){this.ta.forEach(function(a){this.Of(a)},this);this.ga.deleteProgram(this.ga.pa);this.ga=null;for(var a in this)this.hasOwnProperty(a)&&g.a.pwa(a,"u_")&&delete this[a];arguments.callee.ka.apply(this, arguments)},Of:function(a){if(a.qa){if(a.qa.region&&a.qa.region.length){for(var b=a.qa.region.buffer,c=0,d=a.qa.region.length;c<d;c+=1){var e=a.qa.region[c];e[2]=null;e[4]=null}if(b){this.ga.deleteBuffer(b.Y);this.ga.deleteBuffer(b.Vb);for(var f in b)b.hasOwnProperty(f)&&(b[f]=null);a.qa.region.buffer=null}delete a.qa.region}if(a.qa.road){for(c in a.qa.road)if(a.qa.road.hasOwnProperty(c))if("buffer"!==c)delete a.qa.road[c];else if(b=a.qa.road.buffer){if(b.Y&&b.Y.length)for(d=0,e=b.Y.length;d<e;d++)this.ga.deleteBuffer(b.Y[d]), this.ga.deleteBuffer(b.Vb[d]);for(f in b)b.hasOwnProperty(f)&&(b[f]=null);a.qa.road.buffer=null}delete a.qa.road}if(a.qa.building){c=0;for(d=a.qa.building.length;c<d;c+=1)e=a.qa.building[c],this.ga.deleteBuffer(e[0]),e[0]=null,e[1]&&this.ga.deleteBuffer(e[1]),e[1]=null,this.ga.deleteBuffer(e[2]),e[2]=null,e[3]=null,e[4]=null,e[5]=null;delete a.qa.building}delete a.qa}},caa:"precision highp float;attribute vec4 a_Position;attribute vec3 a_op,a_Next,a_Previous;attribute float a_Tags;uniform float u_xDelta,u_width;uniform lowp int u_type;uniform mat4 u_othMatrix,u_zoomMatrix,u_modelMatrix;uniform float u_scale;varying float v_distance;varying vec2 v_op;varying float v_TB;varying float v_cap;varying lowp float v_Tags;void main() {vec4 position=a_Position;position.x+=u_xDelta;if (u_type==0) {gl_Position=u_othMatrix*u_zoomMatrix*u_modelMatrix*position;}else if(u_type>1) {v_op=a_op.xy;v_TB=a_op.z;vec3 curPos=position.xyz;v_distance=a_Next.z;float ddis=0.0;vec3 previous=vec3(a_Previous.x+u_xDelta,a_Previous.y,0);vec3 next=vec3(a_Next.x+u_xDelta,a_Next.y,0);vec4 up,dir;v_distance *= u_scale;if(previous==curPos){ dir= vec4(normalize(next-curPos).xy,0,0);}else if(next==curPos){dir= -vec4(normalize(previous-curPos).xy,0,0);}else {vec3 dir0=previous-curPos;vec3 dir1=next-curPos;vec3 dir2=normalize(dir0);vec3 dir3=normalize(dir1);float f0=dir0.x*dir1.y-dir1.x*dir0.y;dir = vec4(0); v_cap=1.0;if(f0==0.0){up = vec4(dir3.y,-dir3.x,0,0); }else{vec3 dir4=normalize(dir2+dir3);float sinA=length(cross(dir4,dir2));float cosA=dot(dir4,dir2);if(sinA<0.5){sinA=0.5;}up= vec4(dir4,0)/sinA;ddis=abs(length(up)*cosA*u_width*0.5);if(f0<0.0){up=-up;ddis=-ddis;}v_distance += v_TB*a_Previous.z*ddis;}}if(previous==curPos||next==curPos){ up = vec4(dir.y,-dir.x,0,0); if(u_type==4){v_cap=sqrt(v_TB*v_TB+a_Previous.z*a_Previous.z);}else if(u_type==3){v_cap=1.0;}else{dir = vec4(0);}}vec4 pos=u_zoomMatrix*u_modelMatrix*position;pos=pos+(up*v_TB-dir*a_Previous.z)*u_width*0.5;gl_Position=u_othMatrix*pos;}else if (u_type==1) {v_Tags=a_Tags;gl_Position=u_othMatrix*u_zoomMatrix*u_modelMatrix*position;}}", R9:"precision lowp float;uniform vec4 u_FragColor,u_FragColor2;varying lowp float v_distance,v_TB;varying vec2 v_op;varying lowp float v_Tags;varying float v_cap;uniform lowp int u_type;uniform int u_isDash,u_onlyBorder;uniform vec4 u_dash;void main() {vec4 color=u_FragColor;if (u_type==0) {}else if(u_type>1) {if(v_op.x<-0.2||v_op.x>256.2||v_op.y<-0.2||v_op.y>256.2){discard;}if(v_cap>1.0){discard;}if(u_isDash==1){float all = u_dash[0] + u_dash[1] + u_dash[2] + u_dash[3];float off = mod(v_distance - u_dash[0], all);if(off> u_dash[0]&&off<=(u_dash[0]+u_dash[1])||off>(all-u_dash[3])){discard;}}if(u_onlyBorder==1&&v_TB<=0.7&&v_TB>=-0.7){discard;}}else if(u_type==1) {color=v_Tags==3.0?u_FragColor2:vec4((u_FragColor+(u_FragColor2-u_FragColor)*v_Tags/3.0).xyzw);}gl_FragColor=color;}", reloadChanged:function(){this.h&&(this.h.Ja=!1);this.ta.clear();this.Qa&&this.Qa.parentNode&&this.Qa.parentNode.removeChild(this.Qa);this.set("display")},Ry:function(a){if(this.h&&a.VR===this.h.dc)for(var b=0,c=a.Ic.length;b<c;b+=1)this.sD(a.Ic[b],a.Ey,a.gq,a.Z)},fT:function(a,b){for(var c=this.ga,d=a.buffer,e=0,f=a.length;e<f;e+=1){var h=a[e];this.e.gm&&h[3]&&!this.e.od&&(h[2]=this.J.Or(h[2],h[3],!1,b),d.le[e][0]=h[2])}d.Y=this.Hd(c.ARRAY_BUFFER,d.Y);d.Vb=this.Hd(c.ELEMENT_ARRAY_BUFFER,d.Vb)},AT:function(a, b){for(var c=this.ga,d=a.buffer,e=0,f=a.buffer.Y.length;e<f;e++)d.Y[e]=this.Hd(c.ARRAY_BUFFER,d.Y[e]),d.Vb[e]=this.Hd(c.ELEMENT_ARRAY_BUFFER,d.Vb[e]);if(this.e.gm&&!this.e.od){var c=d.hash,d=null,h;for(h in c)if(c.hasOwnProperty(h))for(e=0,f=a[h].length;e<f;e++)d=a[h][e],d[10]&&(d[1]=this.J.Pl(d[1],d[10],1,!1,b),d[4]=this.J.Pl(d[4],d[10],0,!1,b))}},cP:function(a,b){for(var c=0,d=a.length;c<d;c+=1){var e=a[c];e.gD=e[0].length/3;e[0]=this.Hd(this.ga.ARRAY_BUFFER,e[0]);e.fJ=e[1].length/3;e[1]=this.Hd(this.ga.ARRAY_BUFFER, e[1]);e.hD=e[2].length/3;e[2]=this.Hd(this.ga.ARRAY_BUFFER,e[2]);if(this.e.gm&&e[3][2]&&!this.e.od){var f=this.J.gy(e[3][0],e[3][1],e[3][2],!1,b);e[3][0]=f[0];e[3][1]=f[1]}}},Hd:function(a,b){if(b.length){var c=this.ga,d=c.createBuffer();c.bindBuffer(a,d);c.bufferData(a,b,c.STATIC_DRAW);return d}},sD:function(a){var b=a.vd,c=this.ta.get(a.Ai);if(c){var d=a.tg.z;c.qa[b]=a.Ma;"region"===b?this.fT(a.Ma,d):"road"===b?this.AT(a.Ma,d):"building"===b&&(this.cP(a.Ma,d),a.dn&&a.dn.length&&!c.ae&&(c.ae={}, c.ae.ff=a.dn,g.wj&&g.wj.q("vecTileParsed.buildings",{Qo:c})));b===this.h.ha[this.h.ha.length-1]&&(c.xa=!0,this.set("display"))}},Md:function(){if(this.ig&&!this.h.Ja){var a=this.h;this.e.ZC||g.oe.$e.end({key:"rb",index:2,id:this.e.D.id});a.Ja=!0;a.Dd?a.na("renderComplete"):(a.Dd=!0,a.na("complete"))}},kc:function(a,b){!window.ta&&this.ta&&(window.ta=this.ta);this.Zs=a.Zs;this.Ho(a,b);this.Md();a.AI||(a.Tka=this.ig,this.$y(a,b),this.as=this.nb,this.he&&this.set("display",0))},hj:function(){return this.Qa}, nD:function(){g.N.Ne.md.yr+=1;this.Qa&&g.F.G(this.Qa,"webglcontextlost",this.nD,this);this.Qa.parentNode&&this.Qa.parentNode.removeChild(this.Qa);if(1<g.N.Ne.md.yr)this.rJ();else{var a=this.Qa.className;this.Qa=document.createElement("canvas");this.Qa.className=a;this.HI()}this.set("reload");new g.fb.vb(g.A.Cc+"://webapi.amap.com/count?"+["type=glfail","c="+g.N.Ne.md.yr,"crd="+g.l.bR,"k="+g.A.key,"u="+g.A.Wt,"m="+(g.l.Z?1:0),"pf="+g.l.Uy,"dpr="+window.devicePixelRatio,"scale="+(g.l.IK||0),"detect="+ g.l.ia].join("&"))},rJ:function(){g.l.xf=!1;this.h&&this.h.e.D&&(this.h.e.set("baseRender",g.l.du?"dv":"d"),this.h.e.D.eS(),this.h.N=null,this.h.U.ys(),this.h=null);this.Qa=this.J=null},Gg:function(a){this.Qa=document.createElement("canvas");this.Qa.className=a||"amap-layer"},HI:function(){if(1<g.N.Ne.md.yr)return this.rJ(),!1;var a=this.ga=this.Qa.getContext(g.l.e9,g.l.f9);if(a)g.F.g(this.Qa,"webglcontextlost",this.nD,this);else return this.rJ(),!1;g.om.Hqa(a,this.caa,this.R9);this.BU=a.getUniformLocation(a.pa, "u_xDelta");this.O8=a.getUniformLocation(a.pa,"u_othMatrix");this.S8=a.getUniformLocation(a.pa,"u_zoomMatrix");this.M8=a.getUniformLocation(a.pa,"u_modelMatrix");this.Ld=a.getAttribLocation(a.pa,"a_Position");this.Ui=a.getAttribLocation(a.pa,"a_op");this.Ti=a.getAttribLocation(a.pa,"a_Previous");this.Ag=a.getAttribLocation(a.pa,"a_Next");this.wx=a.getAttribLocation(a.pa,"a_Tags");a.enableVertexAttribArray(this.Ld);this.tj=a.getUniformLocation(a.pa,"u_FragColor");this.tz=a.getUniformLocation(a.pa, "u_FragColor2");this.hk=a.getUniformLocation(a.pa,"u_type");this.Pv=a.getUniformLocation(a.pa,"u_width");this.rU=a.getUniformLocation(a.pa,"u_isDash");this.tU=a.getUniformLocation(a.pa,"u_onlyBorder");this.oU=a.getUniformLocation(a.pa,"u_dash");this.yU=a.getUniformLocation(a.pa,"u_scale");a.enable(a.BLEND);a.enable(a.CULL_FACE);a.cullFace(a.FRONT);a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);a.clearColor(0,0,0,0); this.vS=this.GP=this.wy=void 0;this.Hz=0;return!0},sv:function(a){var b=Math.pow(2,a.R.zoom-this.nf),c=a.R.nb.$a(this.as).dd(this.cm);this.transform={translate:this.transform[0].translate.add(c),scale:b,rotate:0};this.nb=a.R.nb},$y:function(a,b){var c=this.TO(a,b),d=this.ga,e=this.J.pe;"function"===typeof e&&e(a.R.zoom);d.clear(d.COLOR_BUFFER_BIT);var e=this.h.ia?this.Za:this.Yp,f=0,h=0;0!==a.R.rotation?(f=2*Math.floor(a.R.Ga.tc.x)*e,h=2*Math.floor(a.R.Ga.tc.y)*e):(f=a.size.width*e,h=a.size.height* e);f&&h&&(this.Qa.width=f,this.Qa.height=h,d.viewport(0,0,this.Qa.width,this.Qa.height),this.zs.apply(this,c),this.De(a))},oq:256*Math.pow(2,20),SP:function(a,b){g.om.aC([this.tj]);for(var c=this.J.ii,d=0,e=b.length;d<e;d++){var f=b[d],h=f.Sb?f.Sb.qa:f.qa;if(!h)break;if((h=h.region)&&h.length){this.rr(f.Vm*this.oq);f=h.buffer;a.bindBuffer(a.ARRAY_BUFFER,f.Y);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,f.Vb);for(var k=0,l=f.To.length;k<l;k++){var m=f.le[k],n=m[0];(m=m[1])&&c&&(n=this.J.Or(n,m),h[k].yd=n); n&&(a.vertexAttribPointer(this.Ld,2,a.FLOAT,!1,8,0),a.uniform4f(this.tj,n[0],n[1],n[2],n[3]),a.drawElements(a.TRIANGLES,f.To[k][0],a.UNSIGNED_SHORT,f.To[k][1]))}}}},TP:function(a,b){var c=g.om,d=this.h.ia?this.Za:this.Yp,e=this.J.ii;c.aC([this.tj,this.hk,this.Pv]);for(var f={},h=0,k=b.length;h<k;h++){var l=b[h];if(l=(l.Sb?l.Sb.qa:l.qa).road){var l=l.buffer.hash,m;for(m in l)l.hasOwnProperty(m)&&(f[m]?f[m].push(h):f[m]=[h])}}for(var n in f)if(f.hasOwnProperty(n))for(h=f[n],k=0,m=h.length;k<m;k++){for(var l= b[h[k]],p=(l.Sb?l.Sb.qa:l.qa).road,q=p.buffer,r=q.hash[n],p=p[n],s=!1,u=0,v=p.length;u<v;u++){var x=p[u],t=x,w=r[u],y=t[4],E=t[10];E&&e&&(y=this.J.Pl(y,E,0),x.yd=y);x=this.NM(t)[1];if(y&&x){c.qf(a,"1i",this.hk,"square"===t[9]?3:"round"===t[9]?4:2);this.rr(l.Vm*this.oq);if(0===u||s)a.bindBuffer(a.ARRAY_BUFFER,q.Y[w[0]]),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,q.Vb[w[0]]),s&&(s=!1);a.vertexAttribPointer(this.Ld,2,a.FLOAT,!1,44,0);a.vertexAttribPointer(this.Ui,3,a.FLOAT,!1,44,8);a.vertexAttribPointer(this.Ti, 3,a.FLOAT,!1,44,20);a.vertexAttribPointer(this.Ag,3,a.FLOAT,!1,44,32);c.qf(a,"1f",this.Pv,x*d);c.qf(a,"4f",this.tj,y);this.up(t[5]?1:0,t[5],0);a.drawElements(a.TRIANGLES,w[1],a.UNSIGNED_SHORT,w[2])}else 0===u&&1<p.length&&(s=!0)}s=!1;u=0;for(v=p.length;u<v;u++){var w=t=p[u],y=r[u],x=w[1],E=w[10],C=w.rh.rf[0];E&&e&&(x=this.J.Pl(x,E,1),t.yd=x);if(C&&x){c.qf(a,"1i",this.hk,"square"===w[8]?3:"round"===w[8]?4:2);this.rr(l.Vm*this.oq);if(0===u||s)a.bindBuffer(a.ARRAY_BUFFER,q.Y[y[0]]),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, q.Vb[y[0]]),s&&(s=!1);a.vertexAttribPointer(this.Ld,2,a.FLOAT,!1,44,0);a.vertexAttribPointer(this.Ui,3,a.FLOAT,!1,44,8);a.vertexAttribPointer(this.Ti,3,a.FLOAT,!1,44,20);a.vertexAttribPointer(this.Ag,3,a.FLOAT,!1,44,32);c.qf(a,"1f",this.Pv,C*d);c.qf(a,"4f",this.tj,x);this.up(w[2]?1:0,w[2],w[6]?1:0);a.drawElements(a.TRIANGLES,y[1],a.UNSIGNED_SHORT,y[2])}else 0===u&&1<p.length&&(s=!0)}}},ac:new g.H(215440491,106744817),zs:function(a,b,c){if(a.length){this.ad+=1;b=this.Qa.width;c=this.Qa.height;var d= this.ga;b=(new g.Ec).KT(-b/2,b/2,c/2,-c/2,0,1);c=Math.pow(2,this.zoom-this.Vi)*(this.h.ia?this.Za:this.Yp);c=(new g.Ec).scale(c,c,1);var e=this.nb.dd(this.S/Math.pow(2,this.Vi-this.zoom)).$a(this.ac),e=(new g.Ec).translate(-e.x,-e.y,0);d.uniformMatrix4fv(this.O8,!1,b.elements);d.uniformMatrix4fv(this.S8,!1,c.elements);d.uniformMatrix4fv(this.M8,!1,e.elements);d.uniform1f(this.yU,Math.pow(2,this.zoom-this.Vi)*(this.h.ia?this.Za:1));b=this.sl=[];for(c=a.length-1;0<=c;c-=1){e=a[c];d.disableVertexAttribArray(this.Ui); d.disableVertexAttribArray(this.Ti);d.disableVertexAttribArray(this.Ag);d.disableVertexAttribArray(this.wx);this.up(0,void 0,void 0);d.uniform1i(this.hk,0);this.rr(0);for(var f=0,h=e.length;f<h;f+=1){var k=e[f];if(k.Sb?k.Sb.qa:k.qa)k.ad=this.ad,b.push(k)}this.SP(d,e);d.enableVertexAttribArray(this.Ui);d.enableVertexAttribArray(this.Ti);d.enableVertexAttribArray(this.Ag);d.disableVertexAttribArray(this.wx);e.length&&this.TP(d,e);if(!(14>this.zoom))for(d.uniform1i(this.hk,1),this.up(0,void 0,void 0), d.disableVertexAttribArray(this.Ui),d.disableVertexAttribArray(this.Ti),d.disableVertexAttribArray(this.Ag),d.enableVertexAttribArray(this.wx),f=0,h=e.length;f<h;f+=1)k=e[f],(k.Sb?k.Sb.qa:k.qa).building&&this.MH(d,k)}}},MH:function(a,b){for(var c=this.J.ii,d=(b.Sb?b.Sb.qa:b.qa).building,e=0;e<d.length;e+=1){var f=d[e],h=f[3][0],k=f[3][1];if(!f||!h)break;var l=f[3][2];l&&c&&(k=this.J.gy(h,k,l),h=k[0],k=k[1],f.yd=h);if(h||k)h||(h=[0,0,0,0]),k||(k=[0,0,0,0]),a.uniform4f(this.tz,h[0],h[1],h[2],h[3]), a.uniform4f(this.tj,k[0],k[1],k[2],k[3]),f.gD&&(a.bindBuffer(a.ARRAY_BUFFER,f[0]),a.vertexAttribPointer(this.Ld,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.wx,1,a.FLOAT,!1,12,8),a.drawArrays(a.TRIANGLES,0,f.gD)),f.hD&&(a.bindBuffer(a.ARRAY_BUFFER,f[2]),a.vertexAttribPointer(this.Ld,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.wx,1,a.FLOAT,!1,12,8),a.drawArrays(a.LINES,0,f.hD)),f.fJ&&(a.bindBuffer(a.ARRAY_BUFFER,f[1]),a.vertexAttribPointer(this.Ld,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.wx, 1,a.FLOAT,!1,12,8),a.drawArrays(a.TRIANGLES,0,f.fJ))}},up:function(a,b,c){var d=this.ga;a!==this.wy&&(d.uniform1i(this.rU,a),this.wy=a);a&&b!==this.GP&&(this.GP=b,d.uniform4f(this.oU,b[0],b[1],b[2]||0,b[3]||0));c!==this.vS&&(d.uniform1i(this.tU,c),this.vS=c)},rr:function(a){a!==this.Hz&&(this.ga.uniform1f(this.BU,a),this.Hz=a)},De:function(){this.transform={translate:{x:this.Qa.width/2,y:this.Qa.height/2},scale:this.h.ia?1/this.Za:1/this.Yp,rotate:0}},CO:function(a,b,c){var d=null;if(a.length&&c)d= a[11].id+"-"+c,this.Bk[d]&&(a[0]=this.Bk[d][0],a[3]=this.Bk[d][3]);else return c=[],b&&b[0]&&(c=b[0].split("&")),(b=c[2])&&0===b.indexOf("railway")?(a[0]=1,a[3]=3):a[0]=parseInt(c[0])||0,c[3]&&c[4]&&3<c.length?(a[3]=a[0]+parseInt(c[3]),0===g.a.indexOf(c[5],"dash")&&(a[3]+=1)):a[3]=0,d&&void 0===this.Bk[d]&&(this.Bk[d]=[a[0],0,0,a[3]]),a},NM:function(a){var b=this.zoom;if(a.rh&&a.rh.zoom===b)return a.rh.rf;var c=a[11].browserStyle,d=a[11].levelStyleMapping;if(18<this.zoom){var e=this.vk(a,18,c,d), c=Math.pow(2,this.zoom-18);a.rh={zoom:b,rf:[e[0]*c,e[3]*c]}}else if(g.a.w4(this.zoom))e=this.vk(a,this.zoom,c,d),a.rh={zoom:b,rf:[e[0],e[3]]};else{var e=this.vk(a,Math.floor(this.zoom),c,d),d=this.vk(a,Math.ceil(this.zoom),c,d),f=function(a,b,c){var d;a&&b?d=a+c%1*(b-a):0===a&&b?d=Math.max(0,c%1-0.5)/0.5*b:0===a&&0===b?d=0:0!==a&&0===b&&(d=0);return g.a.nc(d,3)},c=f(e[0],d[0],this.zoom),e=f(e[3],d[3],this.zoom);a.rh={zoom:b,rf:[c,e]}}return a.rh.rf},vk:function(a,b,c,d){a=a[11].id+"-"+b;this.Bk[a]|| (this.Bk[a]=this.CO([],c[d[b]]));return this.Bk[a]}});g.N.Ne.md.yr=0;(function(){if(g.zc&&!g.zc.CR){var a=g.a.EC({Je:"anole",Ut:"addTransferList"});g.zc.CR=function(){var b="\\n      let handlers = {}\\n      let transferList = []\\n      let _handlers = [ ("+g.g9+")(true) ]\\n\\n      for (let i = 0, l = _handlers.length; i < l; i++) {\\n        let _handlerObj = _handlers[i]\\n\\n        for (let methodName in _handlerObj) {\\n          if (_handlerObj.hasOwnProperty(methodName)) {\\n            handlers[methodName] = _handlerObj[methodName]    \\n          }\\n        }\\n      }\\n\\n      handlers.anole = "+ JSON.stringify(g.Je)+";\\n\\n      handlers."+a.addTransferList+" = function(transferObjects) {\\n        transferList.push.apply(transferList, transferObjects)\\n      };\\n\\n      self.addEventListener(\'message\', function (e) {\\n        let data = e.data\\n\\n        // console.log(data.cmd, new Date().getTime() - data.ts)\\n\\n        if (data.cmd === \'ping\') {\\n          self.postMessage({\\n            ping: true,\\n            status: 200,\\n            ts: data.ts,\\n            _ts: new Date().getTime()\\n          })\\n\\n          return\\n        }\\n\\n        if (typeof handlers[data.cmd] === \'function\') {\\n\\n          data.args.push(function (err, result) {\\n            self.postMessage({\\n              err,\\n              result,\\n              taskId: data.taskId,\\n              parentTaskId: data.parentTaskId,\\n              ts: data.ts,\\n              _ts: new Date().getTime()\\n            }, transferList)\\n\\n            transferList = []\\n          })\\n\\n          if (handlers.anole) {\\n            data.args[0]."+ a.anole+" = handlers.anole\\n          }\\n        \\n          handlers[data.cmd].apply(handlers, data.args)\\n        }\\n      })\\n    ";if(b=g.a.createObjectURL(b))this.url=b,g.zc.jf(null,{Pla:b},function(){g.zc.zqa()})}}})(); ')