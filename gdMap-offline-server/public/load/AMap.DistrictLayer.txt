_jsload_('AMap.DistrictLayer', 'z.o.ml=z.o.sm.extend({r:function(a){this.CLASS_NAME=this.CLASS_NAME||"AMap.DistrictLayer";a.styles=this.i1(a.styles||{});a.tileSize=512;arguments.callee.ka.call(this,a);this.qL=a.SOC;this.Mc=this.get("detectRetina")&&g.l.ia;this.cC={};g.hL.Gx();this.Fo={}},gU:function(a){var b=[],c=[],d;for(d in a.ya)if(a.ya.hasOwnProperty(d)){for(var e=a.ya[d],f=[],h=0;h<e.Yk.length;h+=1){var k=e.Yk[h];3==k.type?b.push(k):2==k.type&&f.push(k)}if(f.length)for(h=0;h<f.length;h+=1)k=f[h],c.push([k,k.style])}c.sort(function(a, b){return a[1].zIndex>b[1].zIndex?1:-1});a.vs=b;a.ud=c;delete a.ya},S5:function(a,b,c,d){a=this.Ge.map.getViewMode_();b=b.Xv;c=[];for(var e in b.ya)if(b.ya.hasOwnProperty(e)){var f=b.ya[e],h=f.Yk;c.push(e);for(var k=0,l=h.length;k<l;k++){var m=h[k];m.Vj=f.name;m.style=this.Vc(m,!0,b.z-1);this.d1(m)}}this.gU(b);c.length>this.ya.length&&(this.ya=c);"3D"==a?g.wV.parseMapBoxToWebGL({Ex:this.backgroundColor,gsa:!0,FR:!0,bP:!1==this.ke?!1:!0,or:g.A.or||null,Vf:!0,Ic:b,gq:this.ia},function(a,b){d(a,b)}): d(null,{Xv:b})},Fx:function(a){this.U1="3D"==this.getMap().getViewMode_()?4096:2048;this.T1=this.U1/this.zd;a=a||this.getSOC()||"CHN";return"https://mvt.amap.com/district/"+a+"/[z]/[x]/[y]/"+this.U1+"?key="+g.A.key},setStyles:function(a){this.Fo={};this.le=this.i1(a);this.o&&this.o.ta&&(this.o.ta.forEach(function(a){a.Te=!0}),(a=this.get("map"))&&a.map&&a.map.set("display"))},nU:function(a){switch(a){case 0:case 1:return"Nation_Border_China";case 2:return"Coastline_China";case 3:case 4:return"Province_Border_China"; case 5:return"City_Border_China";case 6:return"County_Border_China";case 7:case 8:return"Nation_Border_Foreign";case 9:return"Coastline_Foreign";case 10:return"Nation_Border_Foreign";case 11:return"Nation_Border_Foreign";case 12:return"Province_Border_Foreign";default:return""}},ce:function(a){this.cC||(this.cC={});this.cC[a]||(this.cC[a]=eval("\'"+a.replace(/\\//g,"\\\\u")+"\'"));return this.cC[a]},ZH:function(a){a.ma.NAME_CHN&&(a.ma.NAME_CHN=this.ce(a.ma.NAME_CHN.trim()));a.ma.NAME_ENG&&(a.ma.NAME_ENG= a.ma.NAME_ENG.trim());a.ma.level&&(a.ma.level=a.ma.level.trim());a.ma.citycode&&a.ma.citycode.length&&(a.ma.citycode=a.ma.citycode.trim());2==a.type&&(a.ma.vd=parseInt(a.ma.type),a.ma.type=this.nU(a.ma.vd))},i1:function(a){return g.extend({"nation-stroke":[0.35,0.35,0.35,1],"coastline-stroke":[0.18,0.63,0.94,1],"province-stroke":[0.5,0.5,0.5,1],"city-stroke":[0.7,0.7,0.7,1],"county-stroke":[0.85,0.85,0.85,1],fill:[1,1,1,1]},a)},setSOC:function(a){this.set("SOC",a);this.qL=a;this.setVectorTileUrl(this.Fx())}, getSOC:function(){return this.qL},getDistrictByContainerPos:function(a){var b=this.get("map");if(b&&(b.C=!0,a=b.wp(a),b.C=!1,a&&this.o)){var c;if(this.o.$f)c=this.o.$f.bb;else if(this.o.N)c=this.o.N.bb;else return;c=b.getTileCoordByLngLat(a,this.zd,c);if(this.o.ta&&(a=this.o.ta.get(c.toString()),!a&&12>c.z&&(a=Math.pow(2,c.z)/(this.zd/256),a=this.o.ta.get([c.z,c.x+a,c.y].join("/"))||this.o.ta.get([c.z,c.x-a,c.y].join("/"))),a&&a.fD&&(a=a.fD,a.vs))){b.getViewMode_();b=[Math.round(c.tC*this.T1),Math.round(c.uC* this.T1)];c=0;for(var d=a.vs.length;c<d;c+=1){var e=a.vs[c];if(3==e.type&&g.Aa.yc.prototype.xma.call(e.Kz,b))return e.ma}}}},Vc:function(a,b){function c(b){return"function"===typeof b?b(a.ma):b}var d=this.le,e=a.type,f={zIndex:0},h=a.ma.underCtl,h=void 0==h?2:h;if(1!==e)if(2===e){f.zIndex=1;f.lineCap="round";f.strokeWeight=0.5;e=a.ma.vd;f.strokeStyle=1==e||8==e||10==e||11==e||4==e?"dashed":"solid";var k;1==e||8==e?k=[8,8]:10==e?k=[2,2]:11==e?k=[4,4]:4==e&&(k=[3,3,8,3]);if(k&&this.Mc)for(var l=0;l< k.length;l+=1)k[l]*=2;f.strokeDasharray=k;switch(e){case 0:case 1:case 7:case 8:case 10:case 11:d=c(d["nation-stroke"]);break;case 9:case 2:d=c(d["coastline-stroke"]);break;case 3:case 12:case 4:d=c(d["province-stroke"]);break;case 5:d=c(d["city-stroke"]);break;case 6:d=c(d["county-stroke"]);break;default:return""}if(d){d=g.a.Tm(d);if(1==h)d=[d[0],d[1],d[2],0.5*d[3]];else if(0==h)return null;b&&d&&(d=g.a.xT(d));f.strokeColor=d}}else if(3===e){if(d=c(d.fill)){d=g.a.Tm(d);if(1==h)d=[d[0],d[1],d[2], 0.5*d[3]];else if(0==h)return null;b&&d&&(d=g.a.xT(d));f.fillColor=d}f.lineJoin="round"}return f}});window.AMap.DistrictLayer={};z.o.ml.oaa=z.o.ml.extend({r:function(a){this.CLASS_NAME=this.CLASS_NAME||"AMap.DistrictLayer.World";g.c.va(this,a);a||(a={});a.SOC="WLD";arguments.callee.ka.call(this,a)},setSOC:function(){},getSOC:function(){return"WLD"},Vc:function(a){var b=a.Vj+JSON.stringify(a.ma);this.Fo[b]||(this.Fo[b]=this.ph(arguments)||{});return this.Fo[b]}});window.AMap.DistrictLayer.World=z.o.ml.oaa;z.o.ml.bV=z.o.ml.extend({r:function(a){this.CLASS_NAME=this.CLASS_NAME||"AMap.DistrictLayer.Country";g.c.va(this,a);a||(a={});"World"!=a.SOC&&a.SOC||(a.SOC="CHN");this.Kj=1;void 0!==a.depth&&(this.Kj=parseInt(a.depth));a.SOC=this.s1(a.SOC);this.Dp=a.deeps||{};arguments.callee.ka.call(this,a)},s1:function(a){"CHN"===a&&1<this.Kj&&(a="CHN2");return a},setSOC:function(a){"World"!=a&&"WLD"!=a&&a||(a="CHN");a=this.s1(a);this.set("SOC",a);this.qL=a;this.setVectorTileUrl(this.Fx())},NU:function(a,b){var c= a.ma.type,d=void 0!==this.Dp[b]?this.Dp[b]:this.Kj;if(2==a.type)if(1>d){if("Province_Border_China"==c||"Province_Border_Foreign"==c||"City_Border_China"==c)return!1}else if(2>d&&"City_Border_China"===c)return!1;return!0},Vc:function(a){var b=a.Vj+JSON.stringify(a.ma);this.Fo[b]||(this.Fo[b]=this.ph(arguments)||{});return this.Fo[b]}});window.AMap.DistrictLayer.Country=z.o.ml.bV;z.o.ml.zV=z.o.ml.extend({r:function(a){this.CLASS_NAME=this.CLASS_NAME||"AMap.DistrictLayer.Province";g.c.va(this,a);a||(a={});a.SOC="CHN3";this.Kj=1;void 0!==a.depth&&(this.Kj=parseInt(a.depth));0==this.Kj&&(a.SOC="CHN4");1==this.Kj&&(a.SOC="CHN5");this.Dp=a.deeps||{};arguments.callee.ka.call(this,a);this.setDistricts(a.districts||a.adcode||"")},setSOC:function(){},NU:function(a,b){var c=a.ma.adcode_pro,d=a.ma.adcode_cit,e=a.ma.adcode;0==this.Kj?a.ma.adcode=c:1==this.Kj&&(a.ma.adcode=d);if(this.Yn&& ("all"==this.Yn||c in this.Yn||d&&d in this.Yn||e in this.Yn)){c=a.ma.type;d=void 0!==this.Dp[b]?this.Dp[b]:this.Kj;if(2==a.type)if(1>d){if("Province_Border_China"!==c)return!1}else if(2>d&&"County_Border_China"===c)return!1;return!0}return!1},setDistricts:function(a){this.Eva(a)},Eva:function(a){if(a&&"all"!==a&&"all"!==a){"string"==typeof a&&(a=[a]);for(var b={},c=0;c<a.length;c+=1)b[a[c]]=1;a=b}this.Yn=a;this.reload()},getDistricts:function(){return this.Yn},Vc:function(a){var b=a.Vj+JSON.stringify(a.ma); this.Fo[b]||(this.Fo[b]=this.ph(arguments)||{});return this.Fo[b]}});window.AMap.DistrictLayer.Province=z.o.ml.zV;var vd=g.a.EC({ZH:"fitProperties",ce:"decode",nU:"typeMapping",nGa:"vtfFilterCountry",oGa:"vtfFiterProvince"}),le=z.o.ml.prototype;g.hL.jf(null,new Function("\\n    return {\\n      "+vd.fitProperties+": "+le.ZH.toString()+",\\n      "+vd.decode+": "+le.ce.toString()+",\\n      "+vd.typeMapping+": "+le.nU.toString()+",\\n      vtfFilterCountry: "+z.o.ml.bV.prototype.NU.toString()+",\\n      vtfFilterProvince: "+z.o.ml.zV.prototype.NU.toString()+"\\n    }\\n  ")); ')