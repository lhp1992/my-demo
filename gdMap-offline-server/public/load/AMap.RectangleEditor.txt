_jsload_('AMap.RectangleEditor', 'g.J$=g.aa.extend({xi:".amap-rectangle-drag{width:15px;height:15px;background:url(../../../images/dd-via.png) 50% 50% no-repeat;cursor:pointer}.amap-rectangle-drag.mobile{width:25px;height:25px;background-color:rgba(0,0,0,.15);border-radius:13px}",ja:[g.sa],r:function(a,b){this.CLASS_NAME="AMap.RectangleEditor";g.c.va(this);this.e=a;this.yh=b;this.yb=g.A.yb},open:function(){var a=this;g.c.add(this,"open");this.Td&&this.Ub||this.ut();this.Ub&&this.Ub.forEach(function(b){b.set("map",a.e)});this.cB=this.yh.getOptions.draggable; this.yh.g("dragging",this.t0,this);this.yh.g("setBounds",this.t0,this)},close:function(){g.c.add(this,"close");this.Td&&(this.Td.setMap(null),delete this.Td);if(this.Ub){for(var a=0,b=this.Ub.length;a<b;a+=1)this.Ub[a].setMap(null);delete this.Ub}this.yh.setOptions({draggable:this.cB});this.yh.G("dragstart",this.Pga,this);this.yh.G("dragging",this.Oga,this);this.q("end",{type:"end",target:this.yh})},Pga:function(a){this.aW=a.lnglat},Oga:function(a){var b=a.lnglat.$a(this.aW);this.aW=a.lnglat;this.Td.setPosition(this.Td.getPosition().add(b)); this.Ub.forEach(function(a){return a.setPosition(a.getPosition().add(b))})},ut:function(){var a=this.yh.get("bounds");this.Ub=[];this.Ub.push(this.Xh(a.xc));this.Ub.push(this.Xh(a.oc))},HA:function(a){var b=this.yh.get("radius"),c=b[1];return[a.offset(b[0],0),a.offset(0,c)]},VX:function(a){var b=this.yh.get("center");return a.P===b.P?0:1},Xh:function(a){this.yh.get("bounds");var b=new z.w.rb({position:a,draggable:!0,title:"\\u62d6\\u62fd\\u4fee\\u6539",content:"<div class=\'amap-rectangle-drag"+(g.l.Z? " mobile":"")+"\'></div>",offset:g.l.Z?new g.H(-13,-13):new g.H(-8,-7),zIndex:this.yh.get("zIndex")+1E3,innerOverlay:!0});b.za=!0;b.setLabel({content:parseFloat(a.Q.toFixed(6))+", "+parseFloat(a.P.toFixed(6)),offset:g.l.Z?new g.H(27,0):new g.H(15,-6)});this.kA(b);return b},kA:function(a){a.g("dragging",this.Fm,this).g("dragend",this.Xq,this)},r0:function(a){a.G("dragging",this.Fm,this).G("dragend",this.Xq,this)},Gn:function(){this.yh.q("edit")},Fm:function(a){a=a.target;var b=a.getPosition();this.qB(b, a)},Xq:function(){this.Gn();this.q("dragend",{type:"dragend",target:this.yh})},t0:function(){var a=this,b=this.yh.getBounds();[b.xc,b.oc].forEach(function(b,d){a.Ub[d].set("position",b);a.Ub[d].setLabel({content:parseFloat(b.Q.toFixed(6))+", "+parseFloat(b.P.toFixed(6))})})},qB:function(a,b){var c=null,c=c=null,d=!1;b===this.Ub[0]?(c=this.Ub[1],c=c.get("position"),a.P>=c.P-1E-4&&(a.P=c.P-1E-4,d=!0),a.Q>=c.Q-1E-4&&(a.Q=c.Q-1E-4,d=!0),c=new g.me(a,c)):(c=this.Ub[0],c=c.get("position"),a.P<=c.P+1E-4&& (a.P=c.P+1E-4,d=!0),a.Q<=c.Q+1E-4&&(a.Q=c.Q+1E-4,d=!0),c=new g.me(c,a));this.yh.setBounds(c);this.q("adjust",{type:"adjust",bounds:c,target:this.yh});d&&b.setPosition(a)}});window.AMap.RectangleEditor=g.J$; ')