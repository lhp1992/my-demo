_jsload_('AMap.LabelsLayer', 'z.o.XK=z.o.Tb.extend({B:{visible:!0,zIndex:20,opacity:1,zooms:[3,20],collision:!1,alwaysRender:!0},Vz:{id:void 0,Be:1,name:"",position:[],pp:0,opacity:1,offset:[0,0],lb:[3,20],XBa:{},og:{type:"image",xa:"",bC:[0,0],size:[36,36],anchor:[0,0],KO:0,Mc:!0},text:{Ps:"",direction:"left",offset:[0,0],lb:[3,20],style:{fontSize:12,fontFamily:"sans-serif",fontWeight:"normal",fillColor:"#000",borderColor:"transparent",padding:[0,0,0,0]}}},r:function(a,b){this.CLASS_NAME=this.CLASS_NAME||"AMap.LabelLayer";this.HC= !1;g.a.Db(this,b);this.Xe(this.B);this.Q_=this.uY();this.ku=[]},uY:function(){var a=this;return g.a.$C(function(b){var c=a.h;c?c.ez(b):a.HC=b},100)},setLabels:function(a){this.Q_(a)},Mf:function(a){this.get("map")||this.set("map",a.D,!0);this.h=new g.o.Iq(this,a);this.HC&&(a=this.HC,this.HC=null,this.h.ez(a));a=this.ku;if(a.length){for(var b=0;b<a.length;b++)this.on.apply(this,a[b]);this.ku=[]}return this.h},clear:function(){this.h&&this.h.clear()},destroy:function(){this.h&&this.h.Lj();this.h=null}, on:function(a){this.h?(this.ph(arguments),this.h.V0(a)):this.ku.push(arguments)},off:function(a){this.h&&this.h.T8(a)}});window.AMap.LabelLayer=z.o.XK;g.Oq={add:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],c=[],d=0;d<a.length;d++)c.push(a[d]+b[d]);return c},rg:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],c=[],d=0;d<a.length;d++)c.push(a[d]-b[d]);return c},multiply:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=arguments[1],c=[], d=0;d<a.length;d++)c.push(a[d]*b);return c},Fr:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=arguments[1],c=[],d=0;d<a.length;d++)c.push(a[d]/b);return c},Bma:function(){return this.multiply(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],-1)}}; g.o.Iq=g.o.Tb.extend({Zd:{f$:"__id__",s$:20,r$:{Vd:"div",id:"_amap_custom_labellayer_div_",className:"amap-layer",style:{cssText:"position:absolute;top:0;left:0;",zIndex:"",width:"",height:"",visible:""}},qw:{top:3,right:3,bottom:3,left:3},fw:{vw:"top",Nq:"right",So:"bottom",rm:"left",PE:"middle",wn:"center",w9:"alphabetic"},SK:{YU:"click",eL:"mouseover",dL:"mouseout",cL:"mousemove",uV:"mousedown",vV:"mouseup",KV:"touchstart",JV:"touchend"},Vz:{Be:1,pp:0,opacity:1,offset:[0,0],lb:[3,20],og:{type:"image", xa:"http://visuallocal.amap.com/public/poi-marker.png",bC:[0,0],Jx:[36,36],size:[36,36],anchor:"bottom-center",KO:0,Mc:!0,lb:[3,20]},text:{type:"billboard",direction:"top",offset:[0,0],lb:[3,20],style:{fontFamily:"sans-serif",fontSize:12,fontWeight:"normal",fillColor:"#000",jz:0,strokeColor:"#fcfcfc",borderColor:"transparent",padding:[0,0,0,0]}}}},r:function(a,b){arguments.callee.ka.apply(this,arguments);this.CLASS_NAME="AMap.LabelLayer";this.U=a;this.options=a.B||{};this.pB();this.e=b;this.NF(); this.W("display",b);this.Q2=this.mc.bind(this);this.pca();return this},Gl:function(a){var b=this.Zd;if(g.N.Iq){var c=this.Qw(),d=c.Za;return this.N=new g.N.Iq(this,a,{width:c.width*d,height:c.height*d,cssText:b.r$.style.cssText})}},Hl:function(a){if(g.Ba.cV)return this.N=new g.Ba.cV(this,a);var b=this;g.qb.Lg(["Map3D","webglLabelsLayer"],function(){b.set("display")})},npa:function(){var a=arguments[1];if("text"===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"icon"))return a=a.start,{x:a.x, y:a.y,width:a.Dz,height:a.Ul};var b=a.size,b=void 0===b?[]:b,a=a.coords;return{x:a[0],y:a[1],width:b[0]||0,height:b[1]||0}},hna:function(a,b){return JSON.stringify(a)===JSON.stringify(b)},tf:function(a){return"undefined"===typeof a},ina:function(a){for(var b=this.NC,c=this.pj||{},d={},e=[],f=[],h=0;h<a.length;h++){var k=a[h]||{};if(k.data&&k.data.position){var l=k.data.id;if(this.tf(l))e.push(k);else if(b[l]){var m=b[l];this.hna(c[m]||{},k)||(e.push(a[h]),a[h].DL=m,f.push(m))}else e.push(k);d[l]= 1}}for(var n in c)c.hasOwnProperty(n)&&(a=c[n].data.id,!this.tf(a)&&d[a]||f.push(n));return{add:e,remove:f}},pca:function(){this.Gh=new g.WS;this.TS=[]},T_:function(){var a=this.TS||[];this.Gh&&(this.Gh.clear(),this.Gh.load(a))},Wea:function(a){var b=this.Gh;b&&b.Xr(a)},$ia:function(a){var b=this.Gh;b&&b.remove(a,function(a,b){return a.id===b.id})},Rda:function(a,b){var c=this.npa(b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),d=c.x,e=c.y;return{id:a,Jc:d,fc:e,Hc:d+c.width,vc:e+c.height}}, mda:function(a,b){var c=b.tb,d=c.x,e=c.y,c="",d=this.Gh.search({Jc:d-1,fc:e-1,Hc:d+1,vc:e+1});d.length&&(c=d[0].id);return c},jpa:function(){return++this.jra},pB:function(){this.jra=0;this.R1={};this.NC={};this.pu={add:[],remove:[]};this.pj={};this.$r={};this.hn={};this.tta={};this.yoa={};this.y2=!1;this.YH=!0;this.N=null;this.ia=g.l.ia;this.event={eJ:null,jS:null,Uk:{uD:0,move:0,tD:0}};this.jD=null},oB:function(){this.NC={};this.pu={add:[],remove:[]};this.pj={};this.$r={};this.hn={}},oja:function(){this.pu= {add:[],remove:[]}},KM:function(){return this.e||null},te:function(){return{I:this.kI(),Wg:this.get("__source__"),lb:this.get("zooms"),visible:this.get("visible"),opacity:this.get("opacity"),hd:this.mo()}},NF:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=this.Zd,c=this.KM().D,d=a.size,e=void 0===d?{}:d,d=a.Bi,a=a.R,f=void 0===a?{}:a,a=e.width,e=e.height;if("undefined"==typeof a||"undefined"==typeof e)a=c.getSize().width,e=c.getSize().height;var h=f.nb,k=f.Ga,f=f.zoom, b=b.s$-f,l=Math.min(2,window.devicePixelRatio||1),l=this.ia?l:1;f||(f=c.getZoom());d||(d=c.getViewMode_);k&&k.Fd||(k="2D"==d?c.getCoordsBoundByZoom(f):c.getBounds);this.N_({width:a,height:e,Bi:d,nb:h,zoom:f,scale:b,Ga:k,Za:l})},Qw:function(){return this.R1||{}},N_:function(a){a=a||{};g.extend(this.R1,a)},OA:function(){return"3D"===this.Qw().Bi},Ab:function(a){var b=this.tta,c=a.join("-");b[c]||(a=this.KM().Ab(a),b[c]=[a.x,a.y]);return b[c]},xra:function(a){var b=this.yoa,c=a.join("-");b[c]||(a=this.KM().yra(a, 20),b[c]=[a.x,a.y]);return b[c]},kda:function(){var a=this.Qw().Ga,a=void 0===a?{}:a;return[a.Zb.x,a.Zb.y]},oda:function(a,b,c){a=g.Oq.rg(b,a);return g.Oq.Fr(a,Math.pow(2,c))},zfa:function(a){var b=this.Qw().scale,c=this.kda();a=this.Ab(a);return this.oda(c,a,b)},Afa:function(a){return this.xra(a)},GX:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=arguments[1],c=this.Zd.fw,d=a[0],a=a[1];if("[object Array]"===Object.prototype.toString.apply(b)){if(c=b[1],"number"==typeof b[0]&& "number"==typeof c)return g.Oq.Bma(b)}else if("string"==typeof b){var e=b.split("-"),b=e[0],e=e[1],f=0,h=0;b!=c.wn||e||(b=c.PE,e=c.wn);switch(e){case c.rm:f=0;break;case c.wn:f=-d/2;break;case c.Nq:f=-d;break;default:f=0}switch(b){case c.vw:h=0;break;case c.PE:h=-a/2;break;case c.So:h=-a;break;default:h=0}return[f,h]}return[0,0]},Gda:function(a,b){if(!b||!b.image)return{size:[0,0],origin:a,anchorOffset:[0,0],coords:a};var c=this.Zd.Vz.og,d=b.size||this.c3(b.image),c=this.GX(d,b.anchor||c.anchor), e=g.Oq.add(a,c);return{size:d,origin:a,anchorOffset:c,coords:e}},ida:function(a){return this.GX(a.size,"middle-center")},aea:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},e=this.Zd,f=e.fw,h=e.qw,k=d.n9,k=void 0===k?0:k,d=d.Sr,d=void 0===d?!1:d,l=this.ida(a),m=a.anchorOffset,n=m[0],m=m[1],p=a.size,q=p[0],p=p[1],r=n-l[0],l=m-l[1],s=void 0,u=void 0;switch(c){case f.vw:d?(s=r,u=m-h.top):(s=n,u=m);break;case f.Nq:d?(s=n+q+h.right,u=l+k/2-e.qw.top):(s=n,u=m);break;case f.So:d? (s=r,u=m+p+h.bottom+k):(s=n,u=m);break;case f.rm:d?(s=n-h.left,u=l+k/2-e.qw.top):(s=n,u=m);break;case f.wn:d?(s=n+q/2,u=l+k/2-e.qw.top):(s=n,u=m);break;default:s=n,u=m}return[s,u]},hea:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12,c=this.Zd.qw;return a.length*b+(1<a.length?1*(b-1):0)+c.left+c.right},gea:function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,b=this.Zd.qw;return(0<arguments.length&& void 0!==arguments[0]?arguments[0]:12)*a+(a-1)*(b.top+b.bottom)},bea:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=this.Zd.fw,d=b.nya,e=b.n9,f=a[0],a=a[1],h=void 0,k=void 0;switch(this.aY(b.direction,b.Sr).textAlign){case c.rm:h=f;k=a-e;break;case c.Nq:h=f-d;k=a-e;break;case c.wn:h=f-d/2,k=a-e}return{x:h,y:k,Dz:d,Ul:e}},$da:function(a,b,c){if(!b||!c.Ps)return{origin:a.origin,offset:[0,0],coords:a.coords,start:{}}; var d=this.Zd.Vz.text,e=d.direction,f=d.offset,h=d.style,d=c.Sr;c=c.Ps;e=b.direction||e;f=b.offset||f;b=(b.style||h).fontSize||12;h=c.split("^").length;d={nya:this.hea(c,b),n9:this.gea(b,h),Sr:d,direction:e};b=this.aea(a,a.size,e,d);b=g.Oq.add(b,f);c=g.Oq.add(a.origin,b);return{origin:a.origin,offset:b,coords:c,start:this.bea(c,d)}},YN:function(a,b){var c=b.data,d=b.opts||{},e=c.position,c=c.txt,f=d.offset||[0,0],h=d.icon,d=d.text,e=this.OA()?this.Afa(e):this.zfa(e),k=g.Oq.add(e,f),f=!!h,h=this.Gda(k, h),c=this.$da(h,d,{Ps:c,Sr:f});return{origin:e,og:h,text:c}},x3:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[3,20],b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[3,20],c=a[0],a=a[1],d=b[0],b=b[1];return[d<c?c:d,b>a?a:b]},Yna:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1],c={};c.type=a.type||b.type;c.xa=a.image||"";c.bC=a.clipOrigin||b.bC;c.Jx=a.clipSize;c.size=a.size;c.anchor=a.anchor||b.anchor;c.KO=a.angel||b.KO;c.Mc= a.retina||b.Mc;c.lb=a.zooms||b.lb;return c},Zna:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1],c={};c.type=a.type||b.type;c.direction=a.direction||b.direction;c.offset=a.offset||b.offset;c.lb=a.zooms||b.lb;b=b.style;a=a.style||{};c.style={};c.style.fontFamily=a.fontFamily||b.fontFamily;c.style.fontSize=a.fontSize||b.fontSize;c.style.fontWeight=a.fontWeight||b.fontWeight;c.style.fillColor=a.fillColor||b.fillColor;var d=a.strokeColor,e=a.strokeWidth;c.style.jz= this.tf(e)&&this.tf(d)?b.jz:this.tf(e)&&!this.tf(d)?1:a.strokeWidth;c.style.strokeColor=a.strokeColor||b.strokeColor;c.style.borderColor=a.borderColor||b.borderColor;c.style.padding=a.padding||b.padding;return c},c3:function(a){a=(this.N.Yu||{})[a]||{};return[a.width||36,a.height||36]},Hda:function(a,b){var c=this.Yna(a,this.Zd.Vz.og);c.lb=a.zooms||b.J4;var d=this.x3(b.lb,c.lb);c.lb=d;if(!c.size||!c.Jx){var e=this.c3(a.image),d=e[0],e=e[1];c.size||(c.size=[d,e]);c.Jx||(c.Jx=[d,e])}return c},aY:function(a, b){var c=this.Zd.fw,d=void 0,e=void 0;if(b)switch(a){case c.rm:d=c.Nq;break;case c.Nq:d=c.rm;break;case c.vw:case c.So:d=c.wn;e=c.So;break;default:d=c.wn,e=c.So}else switch(a){case c.rm:case c.wn:case c.Nq:d=a;e=c.So;break;case c.vw:case c.So:case c.PE:d=c.rm;e=a;break;default:d=c.rm,e=a}return{textAlign:d,verticalAlign:e}},cea:function(a,b){if(!a)return{};var c=this.Zna(a,this.Zd.Vz.text);c.lb=a.zooms||b.J4;var d=this.aY(c.direction,b.Sr),e=d.verticalAlign;c.style.textAlign=d.textAlign;c.style.verticalAlign= e;d=this.x3(b.lb,c.lb);c.lb=d;return c},p_:function(a,b){var c=b.data,d=c.txt||"",e=b.opts||{},f=e.icon,h=e.text,e={pp:e.angle||0,opacity:this.tf(e.opacity)?1:e.opacity,lb:this.options.zooms,J4:c.zooms},c=f?this.Hda(f,e):null;e.Sr=!!f;(f=d?this.cea(h,e):null)&&(f.Ps=d);return{og:c,text:f}},o_:function(a,b,c){var d=this.TS;a=this.Rda(a,b,c);b=this.OA();this.YH||!b?d.push(a):this.Wea(a)},RS:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=b[a],e=d.og,d=d.text;c.opts.icon&& this.o_(a,"icon",e);c.data.txt&&this.o_(a,"text",d)},Bia:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.pj||{},c=this.pu,d=c.add,d=void 0===d?[]:d,c=c.remove,e=void 0===c?[]:c,c=this.$r||{},f=this.hn||{};this.TS=[];if(!a)for(var h=0;h<e.length;h++){var k=e[h];delete c[k];delete f[k]}for(var l in c)c.hasOwnProperty(l)&&(e=b[l]||{},l&&Object.keys(e).length&&(c[l]=this.YN(l,e),this.RS(l,c,e)));if(!a)for(a=0;a<d.length;a++)e=((d[a]||{}).data||{}).id,l=this.NC[e]||"", e&&l&&(e=b[l]||{},l&&(c[l]=this.YN(l,e),f[l]=this.p_(l,e),this.RS(l,c,e)));this.$r=c;this.hn=f;this.T_();this.YH=!1},Cia:function(){for(var a=this.pj||{},b=this.pu,c=b.add,c=void 0===c?[]:c,b=b.remove,d=void 0===b?[]:b,b=this.$r||{},e=this.hn||{},f=!0,h=0;h<d.length;h++){var k=d[h];this.$ia({id:k},k);delete b[k];delete e[k]}for(d=0;d<c.length;d++)k=(c[d]||{}).data.id,h=this.NC[k]||"",k&&h&&(k=a[h]||{},h&&(b[h]=this.YN(h,k),e[h]=this.p_(h,k),k.data.txt&&(f=!1),this.RS(h,b,k)));this.Esa=f;this.$r=b; this.hn=e;this.YH&&this.T_();this.YH=!1},XN:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.OA()?this.Cia():this.Bia(a);a||this.oja()},lP:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=this.pj||{};if(this.IC)return!0;if(this.OA())return this.NF(a),!0;if(Object.keys(b).length){if(!this.y2)return this.NF(a),this.y2=!0;this.NF(a)}return!0},S_:function(a){var b=this.pj||{},c=this.NC,d=this.ina(a);a=d.add;a=void 0===a?[]:a;d=d.remove;d=void 0=== d?[]:d;this.N&&(a.length||d.length)&&this.N.oB();for(var e=0;e<d.length;e++){var f=d[e],h=((b[f]||{}).data||{}).id;this.tf(h)||delete c[h];delete b[f]}for(e=0;e<a.length;e++)h=a[e],f=this.tf(h.DL)?this.jpa():h.DL,b[f]=g.a.ema(h),delete h.DL,(h=h.data&&h.data.id)&&(c[h]=f);e=this.pu;c=e.add;e=e.remove;e=void 0===e?[]:e;this.pu.add=(void 0===c?[]:c).concat(a);this.pu.remove=e.concat(d);this.pj=b},ez:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];"[object Array]"!==Object.prototype.toString.apply(a)&& (a=[a]);this.jD=a;this.IC=!0;this.set("display")},DQ:function(a,b,c){var d=this.pj||{};return c&&d[c]?{type:b,data:d[c],target:this.U,pixel:a.tb,lnglat:a.Uf}:null},na:function(a,b){var c=this.Zd.SK,d=c.eL,e=c.dL,f=c.cL,h=this.event.Uk,k=h.move,c=h.uD,h=h.tD,l=this.ko(a,b),m=this.DQ(b,a,l),n=this.event.eJ;l&&m&&(a===d||a==f)?(l===n?k&&this.U.q(a,m):(n&&l!==n&&(f=this.DQ(b,e,n),h&&this.U.q(e,f),this.event.jS=n),m.type=d,c&&this.U.q(d,m)),this.event.eJ=l):a===e&&n||!l&&n?(d=this.DQ(b,e,n),h&&this.U.q(e, d),this.event.eJ=null):l&&m?a===f&&!k||a===d&&!c||a===e&&!h||(this.U.q(a,m),this.event.jS=n):(this.event.jS=null,this.event.eJ=null)},ko:function(a,b){var c=void 0;return c=this.OA()?this.N.ko(a,b):this.mda(a,b)},mc:function(a){this.na(a.type,a)},V0:function(a){var b=this.Zd.SK,c=b.YU,d=b.eL,e=b.dL,f=b.cL,h=b.uV,k=b.vV,l=b.KV,b=b.JV,m=this.e,n=this.Q2;switch(a){case c:m.g(c,n);break;case h:m.g(h,n);break;case k:m.g(k,n);break;case d:case e:case f:this.event.Uk.uD||this.event.Uk.tD||this.event.Uk.move|| (m.g(d,n),m.g(e,n),m.g(f,n));a===d&&(this.event.Uk.uD=1);a===e&&(this.event.Uk.tD=1);a===f&&(this.event.Uk.move=1);break;case l:m.g(l,n);break;case b:m.g(b,n)}},T8:function(a){var b=this.Zd.SK,c=b.YU,d=b.eL,e=b.dL,f=b.cL,h=b.uV,k=b.vV,l=b.KV,b=b.JV,m=this.e,n=this.Q2;switch(a){case c:m.G(c,n);break;case h:m.G(h,n);break;case k:m.G(k,n);break;case d:case e:case f:a===d&&(this.event.Uk.uD=0);a===e&&(this.event.Uk.tD=0);a===f&&(this.event.Uk.move=0);this.event.Uk.uD||this.event.Uk.tD||this.event.Uk.move|| (m.G(d,n),m.G(e,n),m.G(f,n));break;case l:m.G(l,n);break;case b:m.G(b,n)}},clear:function(){var a=this;this.ez([]);this.N&&this.N.clear();setTimeout(function(){a.oB()},0)},Lj:function(){var a=this;this.clear();this.N&&this.N.Lj();setTimeout(function(){a.pB()},0)},warn:function(a){console&&console.warn&&console.warn(a)}});g.P$={PK:{O$:"_AMap_sdf_com_words",Yz:"http://localhost:8888",OK:4,HE:4,Pc:{W$:"\\u7eb9\\u7406\\u52a0\\u8f7d\\u5931\\u8d25\\uff0c\\u8bf7\\u91cd\\u8bd5",CV:"\\u8d44\\u6e90\\u52a0\\u8f7d\\u5931\\u8d25\\uff0c\\u8bf7\\u91cd\\u8bd5"}},KFa:function(){},nd:function(a){var b=this.rn||[],c=this.info||{};"number"!==typeof a&&(a=a.substr(0).charCodeAt(0));for(var d=0;d<b.length;d++){var e=b[d],f=e.split("-"),h=f[1]||"";if(a>=(f[0]||"")&&a<=h&&(c[e]&&c[e].info||{})[a])return!0}return!1},Bra:function(a,b,c){try{var d=new XMLHttpRequest; d.open("GET",a);d.responseType="blob";d.onerror=function(){c({code:0})};d.onload=function(){if(200===d.status){var a=new FileReader;a.onload=function(){c(a.result,b)};a.readAsDataURL(d.response)}else c({code:0})};d.send()}catch(e){c({code:0})}},Hra:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],c=b.length,d=this.info,e=0,f=this.PK.Yz;return new g.tw(function(h){for(var k=0;k<b.length;k++){var l=b[k];a.Bra(f+l.url,l.rn,function(b,f){e++;b&&(!d[f]&&(d[f]={}),d[f].Uta= b,a.info=d);e===c&&h()})}})},Jra:function(a){var b=this,c=a.length,d=this.info,e=0,f=this.PK.Yz;return new g.tw(function(h,k){function l(l){l=a[l];var m=l.rn;g.a.IO({url:f+l.url,dataType:"json",YT:function(a){e++;a&&(!d[m]&&(d[m]={}),d[m].info=a,b.info=d);e===c&&h()},error:function(){k()}})}for(var m=0;m<a.length;m++)l(m)})},Mpa:function(a,b){var c=this,d=a.range||[],e=a.urlPrefix||"",f=[],h=[];this.rn=d;for(var k=0;k<d.length;k++){var l=d[k],m=e+l,n=m+".json";f.push({rn:l,url:m+".v1.png"});h.push({rn:l, url:n})}d=this.Hra(f);h=this.Jra(h);g.tw.all([d,h]).then(function(){b&&b(c.info)},function(){b&&b(null)})},getData:function(a){g.a.Qk(this.info)?this.Apa(a):a&&a(this.info)},Apa:function(a){var b=this;g.a.IO({url:this.PK.Yz+"/getcommonwords",dataType:"json",YT:function(c){1==c.code&&b.Mpa(c.data,a)},error:function(){}})},Lj:function(){},pg:function(){var a=null;this.rn=[];this.info={};a&&(a=JSON.parse(a),this.rn=Object.keys(a),this.info=a);this.info=a||{}}};g.N.Iq=g.N.Tb.extend({r:function(a,b,c){arguments.callee.ka.apply(this,arguments);this.dc=g.a.ub(this);var d=this.yqa(c);this.canvas=d;this.EP=d.getContext("2d");this.Yu={};this.o=a;this.De();this.reset=!0;this.A3={};this.o.Ja=!0;return d},QM:function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c],e=d.data||{},d=(d.opts||{}).zIndex||e.rank||1;b[d]||(b[d]=[]);b[d].push(c)}return b},drawImage:function(a,b,c,d){var e=this.te().Za,e=void 0===e?1:e,f=this.EP,h=b.bC,k=b.size,k=void 0===k?[]: k;b=b.Jx;b=void 0===b?[]:b;d=d.opacity;c=c.coords;var l=k[0],k=k[1],m=b[0];b=b[1];this.o.tf(m)&&(m=l);this.o.tf(b)&&(b=k);f.globalAlpha=void 0===d?1:d;f.drawImage(a,h[0],h[1],m,b,c[0]*e,c[1]*e,l*e,k*e)},Hy:function(a){var b=this;return new g.tw(function(c,d){if(b.Yu[a])c(null);else{var e=new Image;e.src=a;e.onload=function(){c(e)};e.onerror=function(){d(null)}}})},sC:function(a,b,c){var d=this.te().Za,d=void 0===d?1:d,e=this.EP,f=a.Ps;a=a.style;a=void 0===a?{}:a;b=b.coords;b=void 0===b?[]:b;var h= c.opacity,k=a.fontWeight,l=a.fontSize,m=a.fontFamily;c=a.fillColor;var n=a.strokeColor,p=a.jz,p=void 0===p?1:p,q=a.textAlign;a=a.PFa;e.globalAlpha=void 0===h?1:h;e.font=k+" "+l*d+"px "+(void 0===m?"sans-serif":m);e.textAlign=void 0===q?"center":q;e.textBaseline=void 0===a?"Alphabetic":a;a=b[0];b=b[1];n&&p&&(e.strokeStyle=n,e.lineWidth=p,e.strokeText(f,a*d,b*d));e.fillStyle=c;e.fillText(f,a*d,b*d)},OP:function(){},yqa:function(a){var b=document.createElement("canvas");b.width=a.width;b.height=a.height; b.style=a.cssText;b.setAttribute("class","amap-labellayers");return b},te:function(){return this.o.Qw()||{}},zra:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new g.tw(function(c){var d=0,e=Object.keys(b).length,f;for(f in b)b.hasOwnProperty(f)&&function(){var h=((b[f]||{}).opts||{}).icon||{};if(h.image)a.Hy(h.image).then(function(b){b&&(a.Yu[h.image]={xa:b,width:b.width,height:b.height});e===++d&&c()})["catch"](function(){a.o.warn("Fail to load "+h.xa+"!"); e===++d&&c()});else e===++d&&c()}()})},XB:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],c=b[1]||20;return a>=(b[0]||3)&&a<=c?!0:!1},kc:function(a){var b=this,c=this.o;c&&c.lP(a);c.IC&&(c.IC=!1,c.S_(c.jD),c.jD=[],this.zra(c.pj).then(function(){c.XN();b.A3=b.QM(c.pj,c.hn);b.set("display",0)})["catch"](function(a){console.log("e","   -- ",a)}));this.reset=!1;this.y1();this.dm();var d=a.R.zoom;if(this.XB(d,this.o.options.lb)){var e=this.Yu||{},f=this.A3||{};c.lP(a);Object.keys(f).length&& c.XN(!0);var h=c.$r||{},k=c.hn||{},l=c.pj||{},m;for(m in f)if(f.hasOwnProperty(m))for(var n=f[m]||[],p=0;p<n.length;p++){var q=n[p],r=l[q]||{},s=h[q]||{},q=k[q]||{},u=(r.data||{}).txt,v=r.opts||{},r=(v.icon||{}).image,v=this.o.tf(v.opacity)?1:v.opacity;r&&e[r]&&this.XB(d,q.og&&q.og.lb)&&(r=e[r],this.drawImage(r.xa,q.og,s.og,{xa:{width:r.width,height:r.height},opacity:v}));u&&this.XB(d,q.text&&q.text.lb)&&this.sC(q.text,s.text,{opacity:v})}this.De(a)}},hj:function(){return this.canvas},De:function(){var a= this.te();this.transform={translate:{x:this.canvas.width/2,y:this.canvas.height/2},scale:1/a.Za,rotate:0}},oB:function(){this.reset=!0},dm:function(){var a=this.canvas,b=this.te(),c=b.width,d=b.height,b=b.Za,b=void 0===b?1:b;a&&(a.width=c*b,a.height=d*b)},y1:function(){this.canvas.width=this.canvas.width},clear:function(){this.y1();this.De();this.reset=!0},Lj:function(){this.clear();this.canvas&&this.canvas.parentNode&&(this.canvas.parentNode.removeChild(this.canvas),this.EP=null)}}); ')