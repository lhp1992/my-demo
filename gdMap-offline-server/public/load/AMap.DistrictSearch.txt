_jsload_('AMap.DistrictSearch', 'g.M9=g.aa.extend({ja:[g.sa],r:function(a){this.CLASS_NAME="AMap.DistrictSearch";g.c.va(this,a);this.url=g.A.Rd+"/v3/config/district";this.vl(a)},vl:function(a){a||(a={});this.B=g.extend(a,{extensions:a.extensions||"base",key:g.A.key,s:"rsv3",output:"json"})},setLevel:function(a){g.c.add(this,"setLevel");this.B.level=a},setExtensions:function(a){g.c.add(this,"setExtensions");this.B.extensions=a},setSubdistrict:function(a){g.c.add(this,"setSubdistrict");this.B.subdistrict=a},search:function(a,b){g.c.add(this, "search");var c=[],d=this.B,e;for(e in d)d.hasOwnProperty(e)&&c.push(e+"="+d[e]);c.push("keywords="+this.fa(a));c=this.url+(0<c.length?"?"+c.join("&"):"");c=new g.fb.vb(c,{callback:"callback"});c.g("complete",function(a){this.Fc(a,b)},this);c.g("error",function(a){this.ec(a,b)},this)},Fc:function(a,b){var c="1"===a.status&&this.be(a.districts)&&0<a.districts.length,d="ok"===a.info.toLowerCase()&&this.be(a.districts)&&0===a.districts.length;c?(c={info:a.info,districtList:this.e_(a.districts)},z.event.O(this, "complete",c),b&&"function"===typeof b&&b("complete",c)):(d?z.event.O(this,"error",{info:"NO_DATA",districtList:[]}):z.event.O(this,"error",{info:a.info,districtList:[]}),b&&"function"===typeof b&&b("no_data",{}))},ec:function(a,b){z.event.O(this,"error",a);b&&"function"===typeof b&&b("error",a.info)},e_:function(a){var b,c,d,e,f,h=[];for(b=0;b<a.length;b+=1){if("all"===this.B.extensions){c=a[b].polyline;if("string"===typeof c&&0<c.length){a[b].boundaries=[];f=this.fa(c).split("|");for(var k=0,l= f.length;k<l;k+=1){d=this.fa(f[k]).split(";");h=[];for(c=0;c<d.length;c+=1)e=d[c].split(","),h.push(new g.T(parseFloat(e[0]),parseFloat(e[1])));a[b].boundaries.push(h)}}else a[b].boundaries=[];delete a[b].polyline}"string"===typeof a[b].center&&0<a[b].center.length&&(c=a[b].center.split(","),a[b].center=new g.T(c[0],c[1]));c=a[b].districts;this.be(c)&&0<c.length&&(a[b].districtList=this.e_(c));delete a[b].districts}return a},be:function(a){return"[object Array]"===Object.prototype.toString.call(a)}, fa:function(a){return"string"===typeof a?a:""},He:function(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}});window.AMap.DistrictSearch=g.M9; ')